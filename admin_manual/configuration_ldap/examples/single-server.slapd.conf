include /etc/ldap/schema/core.schema
include /etc/ldap/schema/cosine.schema
include /etc/ldap/schema/nis.schema
include /etc/ldap/schema/inetorgperson.schema

pidfile /var/run/slapd/slapd.pid
argsfile /var/run/slapd/slapd.args

loglevel any

modulepath /usr/lib/ldap
moduleload back_ldap.la
moduleload back_hdb.la
moduleload rwm

sizelimit 500
tool-threads 1

backend ldap

database ldap
readonly yes
protocol-version 3
rebind-as-user

# ------------------- CHANGE ME ------------------- #

uri "ldap://YOUR_AD_URL_OR_IP:389"       # Hostname or IP Address of your Active Directory server
suffix "dc=ad,dc=YOUR_DOMAIN,dc=com"     # Your domain's search suffix
rootdn "dc=ad,dc=YOUR_DOMAIN,dc=com"     # Your domain's root dn

# ------------------- CHANGE ME ------------------- #

overlay rwm
rwm-map attribute uid sAMAccountName
rwm-map attribute mail proxyAddresses
moduleload pcache.la

overlay pcache
pcache hdb 100000 1 1000 100
pcacheAttrset 0 *
pcacheTemplate (sn=) 0 3600
pcacheTemplate (cn=) 0 3600
pcachePersist TRUE
directory /var/lib/ldap
