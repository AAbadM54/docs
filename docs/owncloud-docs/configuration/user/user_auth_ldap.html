<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Authentication with LDAP :: ownCloud Documentation</title>
    <link rel="stylesheet" href="../../../owncloud-docs/css/site.css">
  </head>
  <body class="article">
<header class="header" role="banner">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="../../..">ownCloud Documentation</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="#">Home</a>
        <a class="navbar-item" href="https://owncloud.org/news/">News</a>
        <a class="navbar-item" href="https://owncloud.org/features/">Features</a>
        <a class="navbar-item" href="https://demo.owncloud.org/">Demo</a>
        <a class="navbar-item" href="#">Documentation</a>
        <a class="navbar-item" href="https://owncloud.org/contribute/">Contribute</a>
        <a class="navbar-item" href="https://owncloud.org/support">Support</a>
        <a class="navbar-item" href="https://owncloud.com/">Enterprise Edition</a>
        <!--<div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Products</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Product A</a>
            <a class="navbar-item" href="#">Product B</a>
            <a class="navbar-item" href="#">Product C</a>
          </div>
        </div>-->
        <div class="navbar-item">
          <span class="control">
            <a class="button is-primary" href="https://owncloud.org/install/">Download</a>
          </span>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="main-wrapper">
<div class="navigation-container" data-component="owncloud-docs" data-version="master">
  <aside class="navigation" role="navigation">
    <div class="panels">
<div class="navigation-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../../index.html">ownCloud // Documentation</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <span class="nav-text">ROOT</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <span class="nav-text">Appliance</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <button class="nav-toggle"></button>
    <span class="nav-text">Ucs</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../appliance/ucs/add-groups-and-users.html">Add groups and users</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../appliance/Active_Directory.html">Active Directory</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../appliance/Backup.html">Backup</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../appliance/Clamav.html">ClamAV</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../appliance/Office.html">Office</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../appliance/certificates.html">Certificates</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../appliance/howto-update-owncloud.html">Howto update ownCloud</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../appliance/index.html">Index</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../appliance/installation.html">Installation</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../appliance/login_information.html">Login Information</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../appliance/managing-ucs.html">Managing UCS</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../appliance/what-is-it.html">What is it</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <span class="nav-text">Configuration</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <button class="nav-toggle"></button>
    <span class="nav-text">Database</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../database/db_conversion.html">DB Conversion</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../database/index.html">Index</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../database/linux_database_configuration.html">Linux Database Configuration</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-toggle"></button>
    <span class="nav-text">Files</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../files/external_storage/amazons3.html">AmazonS3</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../files/big_file_upload_configuration.html">Big File Upload Configuration</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../files/default_files_configuration.html">Default Files Configuration</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../files/encryption_configuration.html">Encryption Configuration</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../files/external_storage_configuration.html">External Storage Configuration</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../files/external_storage_configuration_gui.html">External Storage Configuration GUI</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../files/federated_cloud_sharing_configuration.html">Federated Cloud Sharing Configuration</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../files/file_sharing_configuration.html">File Sharing Configuration</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../files/file_versioning.html">File Versioning</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../files/files_locking_transactional.html">Files LOCking Transactional</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../files/index.html">Index</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../files/previews_configuration.html">Previews Configuration</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../files/trashbin_options.html">Trashbin Options</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-toggle"></button>
    <span class="nav-text">Ldap</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../ldap/ldap_proxy_cache_server_setup.html">LDAP Proxy Cache Server Setup</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-toggle"></button>
    <span class="nav-text">Mimetypes</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../mimetypes/index.html">Index</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-toggle"></button>
    <span class="nav-text">Server</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../server/security/password-policy.html">Password policy</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../server/activity_configuration.html">Activity Configuration</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../server/antivirus_configuration.html">AntiVirus Configuration</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../server/automatic_configuration.html">Automatic Configuration</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../server/background_jobs_configuration.html">Background Jobs Configuration</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../server/caching_configuration.html">Caching Configuration</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../server/config_sample_php_parameters.html">Config Sample PHP Parameters</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../server/custom_client_repos.html">Custom Client Repos</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../server/email_configuration.html">Email Configuration</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../server/excluded_blacklisted_files.html">Excluded Blacklisted Files</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../server/external_sites.html">External Sites</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../server/harden_server.html">Harden Server</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../server/import_ssl_cert.html">Import SSL Cert</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../server/index.html">Index</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../server/index_php_less_urls.html">Index PHP Less URLs</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../server/knowledgebase_configuration.html">Knowledgebase Configuration</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../server/language_configuration.html">Language Configuration</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../server/logging_configuration.html">Logging Configuration</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../server/oc_server_tuning.html">OC Server Tuning</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../server/occ_command.html">OCC Command</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../server/reverse_proxy_configuration.html">Reverse Proxy Configuration</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../server/security_setup_warnings.html">Security Setup Warnings</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../server/thirdparty_php_configuration.html">Thirdparty PHP Configuration</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-toggle"></button>
    <span class="nav-text">User</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="index.html">Index</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="reset_admin_password.html">Reset Admin Password</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="reset_user_password.html">Reset User Password</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="user_auth_ftp_smb_imap.html">User Auth FTP SMB IMAP</a>
  </li>
  <li class="nav-item is-current-page" data-depth="4">
    <a class="nav-link" href="user_auth_ldap.html">User Auth LDAP</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="user_configuration.html">User Configuration</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="user_provisioning_api.html">User Provisioning API</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="user_roles.html">User Roles</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../index.html">Index</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <span class="nav-text">Enterprise</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <button class="nav-toggle"></button>
    <span class="nav-text">Clients</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../enterprise/clients/creating_branded_apps.html">Creating Branded Apps</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../enterprise/clients/custom_client_repos.html">Custom Client Repos</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../enterprise/clients/index.html">Index</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-toggle"></button>
    <span class="nav-text">External_storage</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../enterprise/external_storage/enterprise_only_auth.html">Enterprise Only Auth</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../enterprise/external_storage/index.html">Index</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../enterprise/external_storage/ldap_home_connector_configuration.html">LDAP Home Connector Configuration</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../enterprise/external_storage/onedrive.html">OneDrive</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../enterprise/external_storage/s3_swift_as_primary_object_store_configuration.html">S3 Swift As Primary Object Store Configuration</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../enterprise/external_storage/sharepoint-integration_configuration.html">Sharepoint integration Configuration</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../enterprise/external_storage/windows-network-drive_configuration.html">Windows network drive Configuration</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-toggle"></button>
    <span class="nav-text">File_management</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../enterprise/file_management/files_tagging.html">Files Tagging</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../enterprise/file_management/index.html">Index</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-toggle"></button>
    <span class="nav-text">Firewall</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../enterprise/firewall/file_firewall.html">File Firewall</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../enterprise/firewall/index.html">Index</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-toggle"></button>
    <span class="nav-text">Installation</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../enterprise/installation/index.html">Index</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../enterprise/installation/install.html">Install</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../enterprise/installation/oracle_db_configuration.html">Oracle DB Configuration</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-toggle"></button>
    <span class="nav-text">Logging</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../enterprise/logging/enterprise_logging_apps.html">Enterprise Logging Apps</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../enterprise/logging/index.html">Index</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-toggle"></button>
    <span class="nav-text">Ransomware-protection</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../enterprise/ransomware-protection/index.html">Index</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-toggle"></button>
    <span class="nav-text">Server_branding</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../enterprise/server_branding/enterprise_server_branding.html">Enterprise Server Branding</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../enterprise/server_branding/index.html">Index</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-toggle"></button>
    <span class="nav-text">User_management</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../enterprise/user_management/index.html">Index</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../enterprise/user_management/user_auth_shibboleth.html">User Auth Shibboleth</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../enterprise/index.html">Index</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <span class="nav-text">Faq</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../faq/index.html">Index</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <span class="nav-text">Installation</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <button class="nav-toggle"></button>
    <span class="nav-text">Docker</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../installation/docker/index.html">Index</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-toggle"></button>
    <span class="nav-text">Letsencrypt</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../installation/letsencrypt/apache.html">Apache</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../installation/letsencrypt/index.html">Index</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../installation/letsencrypt/nginx.html">NGINX</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../installation/apps_management_installation.html">Apps Management Installation</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../installation/apps_supported.html">Apps Supported</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../installation/changing_the_web_route.html">Changing the Web Route</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../installation/command_line_installation.html">Command Line Installation</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../installation/configuration_notes_and_tips.html">Configuration Notes and Tips</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../installation/deployment_considerations.html">Deployment Considerations</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../installation/deployment_recommendations.html">Deployment Recommendations</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../installation/index.html">Index</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../installation/installation_wizard.html">Installation Wizard</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../installation/linux_installation.html">Linux Installation</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../installation/nginx_configuration.html">NGINX Configuration</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../installation/selinux_configuration.html">SELinux Configuration</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../installation/source_installation.html">Source Installation</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../installation/system_requirements.html">System ReqUIrements</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../installation/troubleshooting.html">Troubleshooting</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <span class="nav-text">Issues</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../issues/code_signing.html">Code Signing</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../issues/general_troubleshooting.html">General Troubleshooting</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../issues/impersonate_users.html">Impersonate Users</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../issues/index.html">Index</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <span class="nav-text">Maintenance</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../maintenance/backup.html">Backup</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../maintenance/enable_maintenance.html">Enable Maintenance</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../maintenance/index.html">Index</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../maintenance/manual_upgrade.html">Manual Upgrade</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../maintenance/manually-moving-data-folders.html">Manually moving data folders</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../maintenance/migrating.html">Migrating</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../maintenance/package_upgrade.html">Package Upgrade</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../maintenance/restore.html">Restore</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../maintenance/update.html">Update</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../maintenance/upgrade.html">Upgrade</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <span class="nav-text">Upgrading</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../upgrading/index.html">Index</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../upgrading/marketplace_apps.html">Marketplace Apps</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../upgrading/upgrade_php.html">Upgrade PHP</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../contents.html">Contents</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../index.html">Index</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../release_notes.html">Release Notes</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../whats_new_admin.html">Whats New Admin</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <span class="nav-text">user manual</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <span class="nav-text">External_storage</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../user_manual/external_storage/external_storage.html">External Storage</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../user_manual/external_storage/index.html">Index</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../user_manual/external_storage/sharepoint_connecting.html">Sharepoint Connecting</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <span class="nav-text">Files</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <button class="nav-toggle"></button>
    <span class="nav-text">Webgui</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../user_manual/files/webgui/comments.html">Comments</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../user_manual/files/webgui/custom_groups.html">Custom Groups</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../user_manual/files/webgui/index.html">Index</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../user_manual/files/webgui/navigating.html">Navigating</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../user_manual/files/webgui/overview.html">Overview</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../user_manual/files/webgui/quota.html">Quota</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../user_manual/files/webgui/sharing.html">Sharing</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../user_manual/files/webgui/tagging.html">Tagging</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../user_manual/files/access_webdav.html">Access Webdav</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../user_manual/files/deleted_file_management.html">Deleted File Management</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../user_manual/files/desktop_mobile_sync.html">Desktop Mobile Sync</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../user_manual/files/encrypting_files.html">Encrypting Files</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../user_manual/files/federated_cloud_sharing.html">Federated Cloud Sharing</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../user_manual/files/gallery_app.html">Gallery App</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../user_manual/files/index.html">Index</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../user_manual/files/large_file_upload.html">Large File Upload</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../user_manual/files/public_link_shares.html">Public Link Shares</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../user_manual/files/troubleshooting.html">Troubleshooting</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../user_manual/files/version_control.html">Version Control</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <span class="nav-text">Pim</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../user_manual/pim/calendar.html">Calendar</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../user_manual/pim/contacts.html">Contacts</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../user_manual/pim/index.html">Index</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../user_manual/pim/sync_ios.html">Sync Ios</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../user_manual/pim/sync_kde.html">Sync Kde</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../user_manual/pim/sync_osx.html">Sync Osx</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../user_manual/pim/sync_thunderbird.html">Sync Thunderbird</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../user_manual/pim/troubleshooting.html">Troubleshooting</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../user_manual/contents.html">Contents</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../user_manual/index.html">Index</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../user_manual/session_management.html">Session Management</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../user_manual/troubleshooting.html">Troubleshooting</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../user_manual/userpreferences.html">Userpreferences</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../user_manual/webinterface.html">Webinterface</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../user_manual/whats_new.html">Whats New</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <span class="nav-text">developer manual</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <span class="nav-text">App</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <button class="nav-toggle"></button>
    <span class="nav-text">Advanced</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../developer_manual/app/advanced/code_signing.html">Code Signing</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../developer_manual/app/advanced/custom-cache-backend.html">Custom cache backend</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../developer_manual/app/advanced/custom-storage-backend.html">Custom storage backend</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../developer_manual/app/advanced/extstorage.html">Extstorage</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../developer_manual/app/advanced/index.html">Index</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../developer_manual/app/advanced/l10n.html">L10N</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../developer_manual/app/advanced/storage-backend.html">Storage backend</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../developer_manual/app/advanced/two-factor-provider.html">Two factor provider</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../developer_manual/app/advanced/users.html">Users</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-toggle"></button>
    <span class="nav-text">Fundamentals</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../developer_manual/app/fundamentals/api.html">API</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../developer_manual/app/fundamentals/backgroundjobs.html">Backgroundjobs</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../developer_manual/app/fundamentals/changelog.html">Changelog</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../developer_manual/app/fundamentals/classloader.html">ClaSSLoader</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../developer_manual/app/fundamentals/configuration.html">Configuration</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../developer_manual/app/fundamentals/container.html">Container</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../developer_manual/app/fundamentals/controllers.html">Controllers</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../developer_manual/app/fundamentals/css.html">CSS</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../developer_manual/app/fundamentals/database.html">Database</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../developer_manual/app/fundamentals/filesystem.html">Filesystem</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../developer_manual/app/fundamentals/hooks.html">Hooks</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../developer_manual/app/fundamentals/index.html">Index</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../developer_manual/app/fundamentals/info.html">Info</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../developer_manual/app/fundamentals/js.html">JS</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../developer_manual/app/fundamentals/logging.html">Logging</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../developer_manual/app/fundamentals/market_app.html">Market App</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../developer_manual/app/fundamentals/middleware.html">Middleware</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../developer_manual/app/fundamentals/publishing.html">Publishing</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../developer_manual/app/fundamentals/routes.html">Routes</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../developer_manual/app/fundamentals/templates.html">Templates</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../developer_manual/app/fundamentals/testing.html">Testing</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-toggle"></button>
    <span class="nav-text">Tutorial</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../developer_manual/app/tutorial/database_connectivity.html">Database Connectivity</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../developer_manual/app/tutorial/development_environment.html">Development Environment</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../developer_manual/app/tutorial/finishing_touches.html">Finishing Touches</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../developer_manual/app/tutorial/index.html">Index</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../developer_manual/app/tutorial/javascript_and_css.html">JavaScript and CSS</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../developer_manual/app/tutorial/navigation.html">Navigation</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../developer_manual/app/tutorial/request.html">Request</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../developer_manual/app/tutorial/requirements.html">ReqUIrements</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../developer_manual/app/tutorial/restful_api.html">Restful API</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../developer_manual/app/tutorial/routes_and_controllers.html">Routes and Controllers</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../developer_manual/app/tutorial/template_content.html">Template Content</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../developer_manual/app/tutorial/testing.html">Testing</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../developer_manual/app/tutorial/wiring_it_up.html">Wiring it Up</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../developer_manual/app/index.html">Index</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../developer_manual/app/introduction.html">Introduction</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <span class="nav-text">Bugtracker</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../developer_manual/bugtracker/codereviews.html">Codereviews</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../developer_manual/bugtracker/index.html">Index</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../developer_manual/bugtracker/triaging.html">Triaging</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <span class="nav-text">Commun</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../developer_manual/commun/help_and_communication.html">Help and Communication</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../developer_manual/commun/index.html">Index</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <span class="nav-text">Core</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../developer_manual/core/acceptance-tests.html">Acceptance tests</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../developer_manual/core/configfile.html">Configfile</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../developer_manual/core/externalapi.html">ExternalAPI</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../developer_manual/core/index.html">Index</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../developer_manual/core/introduction.html">Introduction</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../developer_manual/core/ocs-capabilities.html">OCS capabilities</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../developer_manual/core/ocs-recipient-api.html">OCS recipient API</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../developer_manual/core/ocs-share-api.html">OCS share API</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../developer_manual/core/theming.html">Theming</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../developer_manual/core/translation.html">Translation</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../developer_manual/core/ui-testing.html">UI testing</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../developer_manual/core/unit-testing.html">Unit testing</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <span class="nav-text">General</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../developer_manual/general/backporting.html">Backporting</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../developer_manual/general/code-of-conduct.html">Code of conduct</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../developer_manual/general/codingguidelines.html">CodingGUIdelines</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../developer_manual/general/debugging.html">Debugging</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../developer_manual/general/devenv.html">Devenv</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../developer_manual/general/index.html">Index</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../developer_manual/general/performance.html">Performance</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../developer_manual/general/security.html">Security</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <span class="nav-text">Mobile_development</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <button class="nav-toggle"></button>
    <span class="nav-text">Android_library</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../developer_manual/mobile_development/android_library/examples.html">Examples</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../developer_manual/mobile_development/android_library/index.html">Index</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../developer_manual/mobile_development/android_library/library_installation.html">Library Installation</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-toggle"></button>
    <span class="nav-text">Ios_library</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../developer_manual/mobile_development/ios_library/examples.html">Examples</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../developer_manual/mobile_development/ios_library/index.html">Index</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../developer_manual/mobile_development/ios_library/library_installation.html">Library Installation</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../developer_manual/mobile_development/index.html">Index</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <span class="nav-text">Testing</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../developer_manual/testing/index.html">Index</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <span class="nav-text">Webdav_api</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../developer_manual/webdav_api/comments.html">Comments</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../developer_manual/webdav_api/files_versions.html">Files Versions</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../developer_manual/webdav_api/index.html">Index</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../developer_manual/webdav_api/tags.html">Tags</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../developer_manual/index.html">Index</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="navigation-explore" data-panel="explore">
  <div class="context">
    <span class="title">ownCloud // Documentation</span>
    <span class="version">master</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <span class="title">ownCloud // Documentation</span>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../../index.html">master</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
  <main class="main" role="main">
<div class="toolbar" role="navigation">
  <button class="navigation-toggle"></button>
<nav class="crumbs" role="navigation" aria-label="breadcrumbs">
  <ul>
    <li class="crumb"><a href="../../index.html">ownCloud // Documentation</a></li>
    <li class="crumb">ROOT</li>
    <li class="crumb">Configuration</li>
    <li class="crumb">User</li>
    <li class="crumb"><a href="user_auth_ldap.html">User Auth LDAP</a></li>
  </ul>
</nav>
  <div class="edit-this-page"><a href="file:///Users/settermjd/Workspace/clients/ownCloud/antora-build/admin_manual/modules/ROOT/pages/configuration/user/user_auth_ldap.adoc">Edit this Page</a></div>
</div>
<article class="doc">
<h1>User Authentication with LDAP</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Please check both the advanced and expert configurations carefully
before using in production</p>
</div>
<div class="paragraph">
<p>ownCloud ships with an LDAP application which allows LDAP users
(including Active Directory) to appear in your ownCloud user listings.
These users will authenticate to ownCloud with their LDAP credentials,
so you don’t have to create separate ownCloud user accounts for them.
You will manage their ownCloud group memberships, quotas, and sharing
permissions just like any other ownCloud user.</p>
</div>
<div class="paragraph">
<p>The PHP LDAP module is required. It is supplied by php7.1-ldap on
Debian/Ubuntu and php-ldap on CentOS/Red Hat/Fedora. Please check for
the correct version, based on your installation of PHP.</p>
</div>
<div class="paragraph">
<p>The LDAP application supports:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>LDAP group support</p>
</li>
<li>
<p>File sharing with ownCloud users and groups</p>
</li>
<li>
<p>Access via WebDAV and ownCloud Desktop Client</p>
</li>
<li>
<p>Versioning, external Storage and all other ownCloud features</p>
</li>
<li>
<p>Seamless connectivity to Active Directory, with no extra configuration
required</p>
</li>
<li>
<p>Support for primary groups in Active Directory</p>
</li>
<li>
<p>Auto-detection of LDAP attributes such as base DN, email, and the LDAP
server port number</p>
</li>
<li>
<p>Only read access to your LDAP (edit or delete of users on your LDAP is
not supported)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The LDAP app is not compatible with the
<code>User backend using remote HTTP servers</code> app. You cannot use both of
them at the same time.</p>
</div>
<div class="paragraph">
<p>A non-blocking or correctly configured
<a href="https://selinuxproject.org/page/Main_Page">SELinux</a> setup is needed for
the LDAP backend to work. Please refer to the selinux-config-label.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="configuration"><a class="anchor" href="#configuration"></a>Configuration</h2>
<div class="sectionbody">
<div class="paragraph">
<p>First, enable the <code>LDAP user and group backend</code> app on the Apps page in
ownCloud. Then, go to your Admin page to configure it. The LDAP
configuration panel has four tabs. A correctly completed first tab
(&#8220;Server&#8221;) is mandatory to access the other tabs. A green indicator
lights when the configuration is correct. Hover your cursor over the
fields to see some pop-up tooltips.</p>
</div>
<div class="sect2">
<h3 id="server-tab"><a class="anchor" href="#server-tab"></a>Server Tab</h3>
<div class="paragraph">
<p>Start with the Server tab. You may configure multiple servers if you
have them. At a minimum you must supply the LDAP server’s hostname. If
your server requires authentication, enter your credentials on this tab.
ownCloud will then attempt to auto-detect the server’s port and base DN.
The base DN and port are mandatory, so if ownCloud cannot detect them
you must enter them manually.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="/owncloud-docs/_images/ldap-wizard-1-server.png" alt="image"></span></p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Server configuration</dt>
<dd>
<p>Configure one or more LDAP servers. Click the &#8220;<strong>Delete
Configuration</strong>&#8221; button to remove the active configuration.</p>
</dd>
<dt class="hdlist1">Host</dt>
<dd>
<p>The host name or IP address of the LDAP server. It can also be an
<strong>ldaps://</strong> URI. If you enter the port number, it speeds up server
detection.
+
Examples:
+</p>
<div class="ulist">
<ul>
<li>
<p><code>directory.my-company.com</code></p>
</li>
<li>
<p><code>ldaps://directory.my-company.com</code></p>
</li>
<li>
<p><code>directory.my-company.com:9876</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">Port</dt>
<dd>
<p>The port on which to connect to the LDAP server. The field is disabled
in the beginning of a new configuration. If the LDAP server is running
on a standard port, the port will be detected automatically. If you
are using a non-standard port, ownCloud will attempt to detect it. If
this fails you must enter the port number manually.
+
Example:
+</p>
<div class="ulist">
<ul>
<li>
<p><code>389</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">User DN</dt>
<dd>
<p>The name as DN of a user who has permissions to do searches in the
LDAP directory. Leave it empty for anonymous access. We recommend that
you have a special LDAP system user for this.
+
Example:
+</p>
<div class="ulist">
<ul>
<li>
<p><code>uid=owncloudsystemuser,cn=sysusers,dc=my-company,dc=com</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">Password</dt>
<dd>
<p>The password for the user given above. Empty for anonymous access.</p>
</dd>
<dt class="hdlist1">Base DN</dt>
<dd>
<p>The base DN of LDAP, from where all users and groups can be reached.
You may enter multiple base DNs, one per line. Base DNs for users and
groups can be set in the Advanced tab. This field is mandatory.
ownCloud attempts to determine the Base DN according to the provided
User DN or the provided Host, and you must enter it manually if
ownCloud does not detect it.
+
Example:
+</p>
<div class="ulist">
<ul>
<li>
<p><code>dc=my-company,dc=com</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="user-filter"><a class="anchor" href="#user-filter"></a>User Filter</h3>
<div class="paragraph">
<p>Use this to control which LDAP users are listed as ownCloud users on
your ownCloud server. In order to control which LDAP users can login to
your ownCloud server use the Login filter. Those LDAP users who have
access but are not listed as users (if there are any) will be hidden
users. You may bypass the form fields and enter a raw LDAP filter if you
prefer.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="/owncloud-docs/_images/ldap-wizard-2-user.png" alt="image"></span></p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Only those object classes</dt>
<dd>
<p>ownCloud will determine the object classes that are typically
available for user objects in your LDAP. ownCloud will automatically
select the object class that returns the highest amount of users. You
may select multiple object classes.</p>
</dd>
<dt class="hdlist1">Only from those groups</dt>
<dd>
<p>If your LDAP server supports the <code>memberof-overlay</code> in LDAP filters,
you can define that only users from one or more certain groups are
allowed to appear in user listings in ownCloud. By default, no value
will be selected. You may select multiple groups.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>Group membership is configured by adding memberUid, uniqueMember or
member attributes to an ldap group (see Group Member association
&lt;group_member_association&gt;) below. In order to efficiently look up the
groups a user who is a member of the LDAP server must support a
<code>memberof-overlay</code>. It allows using the virtual <code>memberOf</code> or
<code>isMemberOf</code> attributes of an LDAP user in the user filter. If your LDAP
server does not support the <code>memberof-overlay</code> in LDAP filters, the
input field is disabled. Please contact your LDAP administrator.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Active Directory uses
<a href="https://msdn.microsoft.com/en-us/library/ms677943.aspx#memberOf">memberOf</a>
and is enabled by default.</p>
</li>
<li>
<p>OpenLDAP uses <code>memberOf</code>.
<a href="https://www.openldap.org/doc/admin24/overlays.html#Reverse%20Group%20Membership%20Maintenance">Reverse
Group Membership Maintenance</a> needs to be enabled.</p>
</li>
<li>
<p>Oracle uses
<a href="https://docs.oracle.com/cd/E29127_01/doc.111170/e28967/ismemberof-5dsat.htm">isMemberOf</a>
and is enabled by default.</p>
<div class="dlist">
<dl>
<dt class="hdlist1">Edit raw filter instead</dt>
<dd>
<p>Clicking on this text toggles the filter mode and you can enter the
raw LDAP filter directly. Example:
+</p>
</dd>
</dl>
</div>
</li>
</ul>
</div>
<div class="literalblock">
<div class="content">
<pre>(&amp;(objectClass=inetOrgPerson)(memberOf=cn=owncloudusers,ou=groups,dc=example,dc=com))</pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">x users found</dt>
<dd>
<p>This is an indicator that tells you approximately how many users will
be listed in ownCloud. The number updates automatically after any
changes.</p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="login-filter"><a class="anchor" href="#login-filter"></a>Login Filter</h3>
<div class="paragraph">
<p>The settings in the Login Filter tab determine which LDAP users can log
in to your ownCloud system and which attribute or attributes the
provided login name is matched against (e.g., LDAP/AD username, email
address). You may select multiple user details. You may bypass the form
fields and enter a raw LDAP filter if you prefer.</p>
</div>
<div class="paragraph">
<p>You may override your User Filter settings on the User Filter tab by
using a raw LDAP filter.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="/owncloud-docs/_images/ldap-wizard-3-login.png" alt="image"></span></p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">LDAP Username</dt>
<dd>
<p>If this value is checked, the login value will be compared to the
username in the LDAP directory. The corresponding attribute, usually
<code>uid</code> or <code>samaccountname</code> will be detected automatically by ownCloud.</p>
</dd>
<dt class="hdlist1">LDAP Email Address</dt>
<dd>
<p>If this value is checked, the login value will be compared to an email
address in the LDAP directory; specifically, the <code>mailPrimaryAddress</code>
and <code>mail</code> attributes.</p>
</dd>
<dt class="hdlist1">Other Attributes</dt>
<dd>
<p>This multi-select box allows you to select other attributes for the
comparison. The list is generated automatically from the user object
attributes in your LDAP server.</p>
</dd>
<dt class="hdlist1">Edit raw filter instead</dt>
<dd>
<p>Clicking on this text toggles the filter mode and you can enter the
raw LDAP filter directly.
+
The <code>%uid</code> placeholder is replaced with the login name entered by the
user upon login.
+
Examples:
+</p>
<div class="ulist">
<ul>
<li>
<p>only username:
+</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="literalblock">
<div class="content">
<pre>(&amp;(objectClass=inetOrgPerson)(memberOf=cn=owncloudusers,ou=groups,dc=example,dc=com)(uid=%uid)</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>username or email address:
+</p>
</li>
</ul>
</div>
<div class="literalblock">
<div class="content">
<pre>((&amp;(objectClass=inetOrgPerson)(memberOf=cn=owncloudusers,ou=groups,dc=example,dc=com)(|(uid=%uid)(mail=%uid)))</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="group-filter"><a class="anchor" href="#group-filter"></a>Group Filter</h3>
<div class="paragraph">
<p>By default, no LDAP groups will be available in ownCloud. The settings
in the group filter tab determine which groups will be available in
ownCloud. You may also elect to enter a raw LDAP filter instead.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="/owncloud-docs/_images/ldap-wizard-4-group.png" alt="image"></span></p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Only those object classes</dt>
<dd>
<p>ownCloud will determine the object classes that are typically
available for group objects in your LDAP server. ownCloud will only
list object classes that return at least one group object. You can
select multiple object classes. A typical object class is <code>group</code>, or
<code>posixGroup</code>.</p>
</dd>
<dt class="hdlist1">Only from those groups</dt>
<dd>
<p>ownCloud will generate a list of available groups found in your LDAP
server. From these groups, you can select the group or groups that get
access to your ownCloud server.</p>
</dd>
<dt class="hdlist1">Edit raw filter instead</dt>
<dd>
<p>Clicking on this text toggles the filter mode and you can enter the
raw LDAP filter directly.
+
Example:
+</p>
<div class="ulist">
<ul>
<li>
<p><code>objectClass=group</code></p>
</li>
<li>
<p><code>objectClass=posixGroup</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">y groups found</dt>
<dd>
<p>This tells you approximately how many groups will be available in
ownCloud. The number updates automatically after any change.</p>
</dd>
</dl>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="advanced-settings"><a class="anchor" href="#advanced-settings"></a>Advanced Settings</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The LDAP Advanced Setting section contains options that are not needed
for a working connection. This provides controls to disable the current
configuration, configure replica hosts, and various
performance-enhancing options.</p>
</div>
<div class="paragraph">
<p>The Advanced Settings are structured into three parts:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Connection Settings</p>
</li>
<li>
<p>Directory Settings</p>
</li>
<li>
<p>Special Attributes</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="connection-settings"><a class="anchor" href="#connection-settings"></a>Connection Settings</h3>
<div class="paragraph">
<p><span class="image"><img src="/owncloud-docs/_images/ldap-advanced-1-connection.png" alt="image"></span></p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Configuration Active</dt>
<dd>
<p>Enables or Disables the current configuration. By default, it is
turned off. When ownCloud makes a successful test connection it is
automatically turned on.</p>
</dd>
<dt class="hdlist1">Backup (Replica) Host</dt>
<dd>
<p>If you have a backup LDAP server, enter the connection settings here.
ownCloud will then automatically connect to the backup when the main
server cannot be reached. The backup server must be a replica of the
main server so that the object UUIDs match.
+
Example:
+</p>
<div class="ulist">
<ul>
<li>
<p><code>directory2.my-company.com</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">Backup (Replica) Port</dt>
<dd>
<p>The connection port of the backup LDAP server. If no port is given,
but only a host, then the main port (as specified above) will be used.
+
Example:
+</p>
<div class="ulist">
<ul>
<li>
<p><code>389</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">Disable Main Server</dt>
<dd>
<p>You can manually override the main server and make ownCloud only
connect to the backup server. This is useful for planned downtimes.</p>
</dd>
<dt class="hdlist1">Turn off SSL certificate validation</dt>
<dd>
<p>Turns off SSL certificate checking. Use it for testing only!</p>
</dd>
<dt class="hdlist1">Cache Time-To-Live</dt>
<dd>
<p>A cache is introduced to avoid unnecessary LDAP traffic, for example
caching usernames so they don’t have to be looked up for every page,
and speeding up loading of the Users page. Saving the configuration
empties the cache. The time is given in seconds.
+
Note that almost every PHP request requires a new connection to the
LDAP server. If you require fresh PHP requests we recommend defining a
minimum lifetime of 15s or so, rather than completely eliminating the
cache.
+
Examples:
+</p>
<div class="ulist">
<ul>
<li>
<p>Ten minutes: <code>600</code></p>
</li>
<li>
<p>One hour: <code>3600</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>See the Caching section below for detailed information on how the cache
operates.</p>
</div>
</div>
<div class="sect2">
<h3 id="directory-settings"><a class="anchor" href="#directory-settings"></a>Directory Settings</h3>
<div class="paragraph">
<p><span class="image"><img src="/owncloud-docs/_images/ldap-advanced-2-directory.png" alt="image"></span></p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">User Display Name Field</dt>
<dd>
<p>The attribute that should be used as display name in ownCloud.
+
Examples:
+</p>
<div class="ulist">
<ul>
<li>
<p><code>displayName</code></p>
</li>
<li>
<p><code>givenName</code></p>
</li>
<li>
<p><code>sn</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">2nd User Display Name Field</dt>
<dd>
<p>An optional second attribute displayed in brackets after the display
name, for example using the <code>mail</code> attribute displays as
<code>Molly Foo (molly@example.com)</code>.
+
Examples:
+</p>
<div class="ulist">
<ul>
<li>
<p><code>mail</code></p>
</li>
<li>
<p><code>userPrincipalName</code></p>
</li>
<li>
<p><code>sAMAccountName</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">Base User Tree</dt>
<dd>
<p>The base DN of LDAP, from where all users can be reached. This must be
a complete DN, regardless of what you have entered for your Base DN in
the Basic setting. You can specify multiple base trees, one on each
line.
+
Examples:
+</p>
<div class="ulist">
<ul>
<li>
<p><code>cn=programmers,dc=my-company,dc=com</code></p>
</li>
<li>
<p><code>cn=designers,dc=my-company,dc=com</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">User Search Attributes</dt>
<dd>
<p>These attributes are used when searches for users are performed, for
example in the share dialogue. The user display name attribute is the
default. You may list multiple attributes, one per line.
+
If an attribute is not available on a user object, the user will not
be listed, and will be unable to login. This also affects the display
name attribute. If you override the default you must specify the
display name attribute here.
+
Examples:
+</p>
<div class="ulist">
<ul>
<li>
<p><code>displayName</code></p>
</li>
<li>
<p><code>mail</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">Group Display Name Field</dt>
<dd>
<p>The attribute that should be used as ownCloud group name. ownCloud
allows a limited set of characters (<code>a-zA-Z0-9.-_@</code>). Once a group
name is assigned it cannot be changed.
+
Examples:
+</p>
<div class="ulist">
<ul>
<li>
<p><code>cn</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">Base Group Tree</dt>
<dd>
<p>The base DN of LDAP, from where all groups can be reached. This must
be a complete DN, regardless of what you have entered for your Base DN
in the Basic setting. You can specify multiple base trees, one in each
line.
+
Examples:
+</p>
<div class="ulist">
<ul>
<li>
<p><code>cn=barcelona,dc=my-company,dc=com</code></p>
</li>
<li>
<p><code>cn=madrid,dc=my-company,dc=com</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">Group Search Attributes</dt>
<dd>
<p>These attributes are used when a search for groups is done, for
example in the share dialogue. By default the group display name
attribute as specified above is used. Multiple attributes can be
given, one in each line.
+
If you override the default, the group display name attribute will not
be taken into account, unless you specify it as well.
+
Examples:
+</p>
<div class="ulist">
<ul>
<li>
<p><code>cn</code></p>
</li>
<li>
<p><code>description</code></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">Group Member association</dt>
<dd>
<p>The attribute that is used to indicate group memberships, i.e., the
attribute used by LDAP groups to refer to their users. ownCloud
detects the value automatically. You should only change it if you have
a very valid reason and know what you are doing.
+
Examples:
+</p>
<div class="ulist">
<ul>
<li>
<p><code>member</code> with FDN for Active Directory or for objectclass
<code>groupOfNames</code> groups</p>
</li>
<li>
<p><code>memberUid</code> with RDN for objectclass <code>posixGroup</code> groups</p>
</li>
<li>
<p><code>uniqueMember</code> with FDN for objectclass <code>groupOfUniqueNames</code> groups</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>The Group Member association is used to efficiently query users of a
certain group, eg., on the userManagement page or when resolving all
members of a group share.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Dynamic Group Member URL</dt>
<dd>
<p>The LDAP attribute that on group objects contains an LDAP search URL
that determines what objects belong to the group. An empty setting
disables dynamic group membership functionality. See
<a href="http://www.zytrax.com/books/ldap/ch11/dynamic.html">Configuring Dynamic
Groups</a> for more details.</p>
<div class="dlist">
<dl>
<dt class="hdlist1">Nested Groups</dt>
<dd>
<p>This makes the LDAP connector aware that groups could be stored inside
existing group records. By default a group will only contain users, so
enabling this option isn’t necessary. However, if groups are contained
inside groups, and this option is not enabled, any groups contained
within other groups will be ignored and not returned in search
results.</p>
</dd>
<dt class="hdlist1">Paging Chunk Size</dt>
<dd>
<p>This sets the maximum number of records able to be returned in a
response when ownCloud requests data from LDAP. If this value is
greater than the limit of the underlying LDAP server (such as 3000 for
Microsoft Active Directory) the LDAP server will reject the request
and the search request will fail. Given that, it is important to set
the requested chunk size to a value no larger than that which the
underlying LDAP server supports.</p>
</dd>
</dl>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="special-attributes"><a class="anchor" href="#special-attributes"></a>Special Attributes</h3>
<div class="paragraph">
<p><span class="image"><img src="/owncloud-docs/_images/ldap-advanced-3-attributes.png" alt="image"></span></p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Quota Field</dt>
<dd>
<p>The name of the LDAP attribute to retrieve the user quota limit from,
e.g., <code>ownCloudQuota</code>. <em>Note:</em> any quota set in LDAP overrides quotas
set in ownCloud’s user management page.</p>
</dd>
<dt class="hdlist1">Quota Default</dt>
<dd>
<p>Override ownCloud’s default quota <em>for LDAP users</em> who do not have a
quota set in the Quota Field, e.g., <code>15 GB</code>.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>Please bear in mind the following, when using these fields to assign
user quota limits. It should help to alleviate any, potential,
confusion.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>After installation ownCloud uses an unlimited quota by default.</p>
</li>
<li>
<p>Administrators can modify this value, at any time, in the user
management page.</p>
</li>
<li>
<p>However, when an LDAP quota is set it will override any values set
in ownCloud.</p>
</li>
<li>
<p>If an LDAP per/attribute quota is set, it will override the LDAP
Quota Default value.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Administrators are not allowed to modify the user quota limit in the
user management page when steps 3 or 4 are in effect. At this point,
updates are only possible via LDAP.</p>
</div>
<div class="paragraph">
<p>See the <a href="https://github.com/valerytschopp/owncloud-ldap-schema">LDAP
Schema for OwnCloud Quota</a></p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Email Field</dt>
<dd>
<p>Set the user’s email from an LDAP attribute, e.g., <code>mail</code>. Leave it
empty for default behavior.</p>
</dd>
<dt class="hdlist1">User Home Folder Naming Rule</dt>
<dd>
<p>By default, the ownCloud server creates the user directory in your
ownCloud data directory and gives it the ownCloud username, e.g.,
<code>/var/www/owncloud/data/5a9df029-322d-4676-9c80-9fc8892c4e4b</code>, if your
data directory is set to <code>/var/www/owncloud/data</code>.
+
It is possible to override this setting and name it after an LDAP
attribute value, e.g., <code>attr:cn</code>. The attribute can return either an
absolute path, e.g., <code>/mnt/storage43/alice</code>, or a relative path which
must not begin with a <code>/</code>, e.g., <code>CloudUsers/CookieMonster</code>. This
relative path is then created inside the data directory (e.g.,
<code>/var/www/owncloud/data/CloudUsers/CookieMonster</code>).
+
Since ownCloud 8.0.10 and up the home folder rule is enforced. This
means that once you set a home folder naming rule (get a home folder
from an LDAP attribute), it must be available for all users. If it
isn’t available for a user, then that user will not be able to login.
Also, the filesystem will not be set up for that user, so their file
shares will not be available to other users. For older versions you
may enforce the home folder rule with the <code>occ</code> command, like this
example on Ubuntu:
+</p>
</dd>
</dl>
</div>
<div class="literalblock">
<div class="content">
<pre>sudo -u www-data php occ config:app:set user_ldap enforce_home_folder_naming_rule --value=1</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>+
Since ownCloud 10.0 the home folder naming rule is only applied when
first provisioning the user. This prevents data loss due to
re-provisioning the users home folder in case of unintentional changes
in LDAP.</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="expert-settings"><a class="anchor" href="#expert-settings"></a>Expert Settings</h2>
<div class="sectionbody">
<div class="paragraph">
<p><span class="image"><img src="/owncloud-docs/_images/ldap-expert.png" alt="image"></span></p>
</div>
<div class="paragraph">
<p>In the Expert Settings fundamental behavior can be adjusted to your
needs. The::
  configuration should be well-tested before starting production use.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Internal Username</dt>
<dd>
<p>The internal username is the identifier in ownCloud for LDAP users. By
default it will be created from the UUID attribute. The UUID attribute
ensures that the username is unique, and that characters do not need
to be converted. Only these characters are allowed:
<code>[\a-\zA-\Z0-\9_.@-]</code>. Other characters are replaced with their ASCII
equivalents, or are simply omitted.
+
The LDAP backend ensures that there are no duplicate internal
usernames in ownCloud, i.e., that it is checking all other activated
user backends (including local ownCloud users). On collisions a random
number (between 1000 and 9999) will be attached to the retrieved
value. For example, if &#8220;alice&#8221; exists, the next username may be
&#8220;alice_1337&#8221;.
+
The internal username is the default name for the user home folder in
ownCloud. It is also a part of remote URLs, for instance for all *DAV
services.
+
You can override all of this with the Internal Username setting. Leave
it empty for default behavior. Changes will affect only newly mapped
LDAP users.
+
Examples:
+</p>
<div class="ulist">
<ul>
<li>
<p><code>uid</code></p>
<div class="dlist">
<dl>
<dt class="hdlist1">Override UUID detection</dt>
<dd>
<p>By default, ownCloud auto-detects the UUID attribute. The UUID
attribute is used to uniquely identify LDAP users and groups. The
internal username will be created based on the UUID, if not specified
otherwise.
+
You can override the setting and pass an attribute of your choice. You
must make sure that the attribute of your choice can be fetched for
both users and groups and it is unique. Leave it empty for default
behavior. Changes will have effect only on newly mapped LDAP users and
groups.
+
It also will have effect when a user’s or group’s DN changes and an
old UUID was cached, which will result in a new user. Because of this,
the setting should be applied before putting ownCloud in production
use and clearing the bindings (see the <code>User and Group Mapping</code>
section below).
+
Examples:
+</p>
</dd>
</dl>
</div>
</li>
<li>
<p><code>cn</code></p>
<div class="dlist">
<dl>
<dt class="hdlist1">Username-LDAP User Mapping</dt>
<dd>
<p>ownCloud uses usernames as keys to store and assign data. In order to
precisely identify and recognize users, each LDAP user will have a
internal username in ownCloud. This requires a mapping from ownCloud
username to LDAP user. The created username is mapped to the UUID of
the LDAP user. Additionally the DN is cached as well to reduce LDAP
interaction, but it is not used for identification. If the DN changes,
the change will be detected by ownCloud by checking the UUID value.
+
The same is valid for groups. The internal ownCloud name is used all
over in ownCloud. Clearing the Mappings will have leftovers
everywhere. Never clear the mappings in a production environment, but
only in a testing or experimental server.
+
<strong>Clearing the mappings is not configuration sensitive, it affects all
LDAP configurations!</strong></p>
</dd>
</dl>
</div>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect1">
<h2 id="testing-the-configuration"><a class="anchor" href="#testing-the-configuration"></a>Testing the configuration</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The &#8220;<strong>Test Configuration</strong>&#8221; button checks the values as currently
given in the input fields. You do not need to save before testing. By
clicking on the button, ownCloud will try to bind to the ownCloud server
using the settings currently given in the input fields. If the binding
fails you’ll see a yellow banner with the error message:</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>&#8220;The configuration is invalid. Please have a look at the logs for
further details.&#8221;</p>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>When the configuration test reports success, save your settings and
check if the users and groups are fetched correctly on the Users page.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="syncing-users"><a class="anchor" href="#syncing-users"></a>Syncing Users</h2>
<div class="sectionbody">
<div class="paragraph">
<p>While users who match the login and user filters can log in, only synced
users will be found in the sharing dialog. Whenever users log in their
display name, email, quota, avatar and search attributes will be synced
to ownCloud. If you want to keep the metadata up to date you can set up
a cron job, using the occ command &lt;syncing_user_accounts_label&gt;.
Versions of ownCloud before 10.0 imported all users when the users page
was loaded, but this is no longer the case.</p>
</div>
<div class="paragraph">
<p>We recommend creating a Cron job &lt;cron_job_label&gt;, to automate regularly
syncing LDAP users with your ownCloud database.</p>
</div>
<div class="sect2">
<h3 id="how-often-should-the-job-run"><a class="anchor" href="#how-often-should-the-job-run"></a>How Often Should the Job Run?</h3>
<div class="paragraph">
<p>This depends on the amount of users and speed of the update, but we
recommend <em>at least</em> once per day. You can run it more frequently, but
doing so may generate too much load on the server.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="owncloud-avatar-integration"><a class="anchor" href="#owncloud-avatar-integration"></a>ownCloud Avatar integration</h2>
<div class="sectionbody">
<div class="paragraph">
<p>ownCloud supports user profile pictures, which are also called avatars.
If a user has a photo stored in the <code>jpegPhoto</code> or <code>thumbnailPhoto</code>
attribute on your LDAP server, it will be used as their avatar. In this
case the user cannot alter their avatar (on their Personal page) as it
must be changed in LDAP. <code>jpegPhoto</code> is preferred over <code>thumbnailPhoto</code>.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="/owncloud-docs/_images/ldap-fetched-avatar.png" alt="image"></span></p>
</div>
<div class="paragraph">
<p>If the <code>jpegPhoto</code> or <code>thumbnailPhoto</code> attribute is not set or empty,
then users can upload and manage their avatars on their ownCloud
Personal pages. Avatars managed in ownCloud are not stored in LDAP.</p>
</div>
<div class="paragraph">
<p>The <code>jpegPhoto</code> or <code>thumbnailPhoto</code> attribute is fetched once a day to
make sure the current photo from LDAP is used in ownCloud. LDAP avatars
override ownCloud avatars, and when an LDAP avatar is deleted then the
most recent ownCloud avatar replaces it.</p>
</div>
<div class="paragraph">
<p>Photos served from LDAP are automatically cropped and resized in
ownCloud. This affects only the presentation, and the original image is
not changed.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="troubleshooting-tips-and-tricks"><a class="anchor" href="#troubleshooting-tips-and-tricks"></a>Troubleshooting, Tips and Tricks</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="ssl-certificate-verification-ldaps-tls"><a class="anchor" href="#ssl-certificate-verification-ldaps-tls"></a>SSL Certificate Verification (LDAPS, TLS)</h3>
<div class="paragraph">
<p>A common mistake with SSL certificates is that they may not be known to
PHP. If you have trouble with certificate validation make sure that</p>
</div>
<div class="ulist">
<ul>
<li>
<p>You have the certificate of the server installed on the ownCloud
server</p>
</li>
<li>
<p>The certificate is announced in the system’s LDAP configuration file,
usually <code>/etc/ldap/ldap.conf</code>.</p>
</li>
<li>
<p>Using LDAPS, also make sure that the port is correctly configured (by
default 636)</p>
</li>
<li>
<p>If you get the error &#8220;Lost connection to LDAP server&#8221; or &#8220;<strong>No
connection to LDAP server</strong>&#8221; double check the connection parameters and
try connecting to LDAP with tools like <code>ldapsearch</code>. If using ldaps or
TLS make sure the certificate is readable by the user that is used to
serve ownCloud.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="microsoft-active-directory"><a class="anchor" href="#microsoft-active-directory"></a>Microsoft Active Directory</h3>
<div class="paragraph">
<p>Compared to earlier ownCloud versions, no further tweaks need to be done
to make ownCloud work with Active Directory. ownCloud will automatically
find the correct configuration in the set-up process.</p>
</div>
</div>
<div class="sect2">
<h3 id="memberof-read-memberof-permissions"><a class="anchor" href="#memberof-read-memberof-permissions"></a>memberOf / Read MemberOf permissions</h3>
<div class="paragraph">
<p>If you want to use <code>memberOf</code> within your filter you might need to give
your querying user the permissions to use it. For Microsoft Active
Directory this is described
<a href="https://serverfault.com/questions/167371/what-permissions-are-required-for-enumerating-users-groups-in-active-directory/167401#167401">here</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="duplicating-server-configurations"><a class="anchor" href="#duplicating-server-configurations"></a>Duplicating Server Configurations</h3>
<div class="paragraph">
<p>In case you have a working configuration and want to create a similar
one or &#8220;snapshot&#8221; configurations before modifying them you can do the
following:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Go to the &#8220;<strong>Server</strong>&#8221; tab</p>
</li>
<li>
<p>On &#8220;<strong>Server Configuration</strong>&#8221; choose &#8220;<strong>Add Server
Configuration</strong>&#8221;</p>
</li>
<li>
<p>Answer the question &#8220;<strong>Take over settings from recent server
configuration?</strong>&#8221; with &#8220;<strong>yes</strong>&#8221;.</p>
</li>
<li>
<p>(optional) Switch to &#8220;<strong>Advanced</strong>&#8221; tab and uncheck
&#8220;<strong>Configuration Active</strong>&#8221; in the &#8220;<strong>Connection Settings</strong>&#8221;, so the
new configuration is not used on Save</p>
</li>
<li>
<p>Click on &#8220;<strong>Save</strong>&#8221;</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Now you can modify and enable the configuration.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="performance-tips"><a class="anchor" href="#performance-tips"></a>Performance tips</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="caching"><a class="anchor" href="#caching"></a>Caching</h3>
<div class="paragraph">
<p>Using caching to speed up lookups. See
../../configuration/server/caching_configuration. The ownCloud cache is
populated on demand, and remains populated until the &#8220;<strong>Cache
Time-To-Live</strong>&#8221; for each unique request expires. User logins are not
cached, so if you need to improve login times set up a slave LDAP server
to share the load.</p>
</div>
<div class="paragraph">
<p>You can adjust the &#8220;<strong>Cache Time-To-Live</strong>&#8221; value to balance
performance and freshness of LDAP data. All LDAP requests will be cached
for 10 minutes by default, and you can alter this with the &#8220;<strong>Cache
Time-To-Live</strong>&#8221; setting. The cache answers each request that is
identical to a previous request, within the time-to-live of the original
request, rather than hitting the LDAP server.</p>
</div>
<div class="paragraph">
<p>The &#8220;<strong>Cache Time-To-Live</strong>&#8221; is related to each single request. After
a cache entry expires there is no automatic trigger for re-populating
the information, as the cache is populated only by new requests, for
example by opening the User administration page, or searching in a
sharing dialog.</p>
</div>
<div class="paragraph">
<p>There is one trigger which is automatically triggered by a certain
background job which keeps the <code>user-group-mappings</code> up-to-date, and
always in cache.</p>
</div>
<div class="paragraph">
<p>Under normal circumstances, all users are never loaded at the same time.
Typically the loading of users happens while page results are generated,
in steps of 30 until the limit is reached or no results are left. For
this to work on an oC-Server and LDAP-Server, &#8220;<strong>Paged Results</strong>&#8221; must
be supported, which assumes PHP &gt;= 5.6.</p>
</div>
<div class="paragraph">
<p>ownCloud remembers which user belongs to which LDAP-configuration. That
means each request will always be directed to the right server unless a
user is defunct, for example due to a server migration or unreachable
server. In this case the other servers will also receive the request.</p>
</div>
</div>
<div class="sect2">
<h3 id="ldap-indexing"><a class="anchor" href="#ldap-indexing"></a>LDAP indexing</h3>
<div class="paragraph">
<p>Turn on indexing. Deciding which attributes to index depends on your
configuration and which LDAP server you are using. See
<a href="https://www.openldap.org/doc/admin24/tuning.html#Indexes">The openLDAP
tuning guide</a> for openLDAP, and
<a href="https://technet.microsoft.com/en-us/library/aa995762(v=exchg.65).aspx">How
to Index an Attribute in Active Directory</a> for Active Directory.</p>
</div>
</div>
<div class="sect2">
<h3 id="use-precise-base-dns"><a class="anchor" href="#use-precise-base-dns"></a>Use precise base DNs</h3>
<div class="paragraph">
<p>The more precise your base DN, the faster LDAP can search because it has
fewer branches to search.</p>
</div>
</div>
<div class="sect2">
<h3 id="use-precise-filters"><a class="anchor" href="#use-precise-filters"></a>Use precise filters</h3>
<div class="paragraph">
<p>Use good filters to further define the scope of LDAP searches, and to
intelligently direct your server where to search, rather than forcing it
to perform needlessly-general searches.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="owncloud-ldap-internals"><a class="anchor" href="#owncloud-ldap-internals"></a>ownCloud LDAP Internals</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Some parts of how the LDAP backend works are described here.</p>
</div>
<div class="sect2">
<h3 id="user-and-group-mapping"><a class="anchor" href="#user-and-group-mapping"></a>User and Group Mapping</h3>
<div class="paragraph">
<p>In ownCloud the user or group name is used to have all relevant
information in the database assigned. To work reliably a permanent
internal user name and group name is created and mapped to the LDAP DN
and UUID. If the DN changes in LDAP it will be detected, and there will
be no conflicts.</p>
</div>
<div class="paragraph">
<p>Those mappings are done in the database table <code>ldap_user_mapping</code> and
<code>ldap_group_mapping</code>. The user name is also used for the user’s folder
(except if something else is specified in <em>User Home Folder Naming
Rule</em>), which contains files and meta data.</p>
</div>
<div class="paragraph">
<p>As of ownCloud 5 the internal user name and a visible display name are
separated. This is not the case for group names, yet, i.e., a group name
cannot be altered.</p>
</div>
<div class="paragraph">
<p>That means that your LDAP configuration should be good and ready before
putting it into production. The mapping tables are filled early, but as
long as you are testing, you can empty the tables any time. Do not do
this in production.</p>
</div>
</div>
<div class="sect2">
<h3 id="handling-with-backup-server"><a class="anchor" href="#handling-with-backup-server"></a>Handling with Backup Server</h3>
<div class="paragraph">
<p>When ownCloud is not able to contact the main LDAP server, ownCloud
assumes it is offline and will not try to connect again for the time
specified in" <strong>Cache Time-To-Live</strong>&#8220;. If you have a backup server
configured ownCloud will connect to it instead. When you have scheduled
downtime, check&#8221;<strong>Disable Main Server</strong>" to avoid unnecessary connection
attempts.</p>
</div>
</div>
</div>
</div>
</article>
  </main>
</div>
<footer class="footer">
  <p>This page was built using the Antora default UI.</p>
  <p>The source code for this UI is licensed under the terms of the MPL-2.0 license.</p>
</footer>
<script src="../../../owncloud-docs/js/site.js"></script>
<script src="../../../owncloud-docs/js/vendor/highlight.js"></script>
<script>hljs.initHighlighting()</script>
  </body>
</html>
