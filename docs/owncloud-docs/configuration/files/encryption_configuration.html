<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Encryption Configuration :: ownCloud Documentation</title>
    <link rel="stylesheet" href="../../../owncloud-docs/css/site.css">
  </head>
  <body class="article">
<header class="header" role="banner">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="../../..">ownCloud Documentation</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="#">Home</a>
        <a class="navbar-item" href="https://owncloud.org/news/">News</a>
        <a class="navbar-item" href="https://owncloud.org/features/">Features</a>
        <a class="navbar-item" href="https://demo.owncloud.org/">Demo</a>
        <a class="navbar-item" href="#">Documentation</a>
        <a class="navbar-item" href="https://owncloud.org/contribute/">Contribute</a>
        <a class="navbar-item" href="https://owncloud.org/support">Support</a>
        <a class="navbar-item" href="https://owncloud.com/">Enterprise Edition</a>
        <!--<div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Products</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Product A</a>
            <a class="navbar-item" href="#">Product B</a>
            <a class="navbar-item" href="#">Product C</a>
          </div>
        </div>-->
        <div class="navbar-item">
          <span class="control">
            <a class="button is-primary" href="https://owncloud.org/install/">Download</a>
          </span>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="main-wrapper">
<div class="navigation-container" data-component="owncloud-docs" data-version="master">
  <aside class="navigation" role="navigation">
    <div class="panels">
<div class="navigation-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../../index.html">ownCloud // Documentation</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <span class="nav-text">ROOT</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <span class="nav-text">Appliance</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <button class="nav-toggle"></button>
    <span class="nav-text">Ucs</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../appliance/ucs/add-groups-and-users.html">Add groups and users</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../appliance/Active_Directory.html">Active Directory</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../appliance/Backup.html">Backup</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../appliance/Clamav.html">ClamAV</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../appliance/Office.html">Office</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../appliance/certificates.html">Certificates</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../appliance/howto-update-owncloud.html">Howto update ownCloud</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../appliance/index.html">Index</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../appliance/installation.html">Installation</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../appliance/login_information.html">Login Information</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../appliance/managing-ucs.html">Managing UCS</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../appliance/what-is-it.html">What is it</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <span class="nav-text">Configuration</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <button class="nav-toggle"></button>
    <span class="nav-text">Database</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../database/db_conversion.html">DB Conversion</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../database/index.html">Index</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../database/linux_database_configuration.html">Linux Database Configuration</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-toggle"></button>
    <span class="nav-text">Files</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="external_storage/amazons3.html">AmazonS3</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="big_file_upload_configuration.html">Big File Upload Configuration</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="default_files_configuration.html">Default Files Configuration</a>
  </li>
  <li class="nav-item is-current-page" data-depth="4">
    <a class="nav-link" href="encryption_configuration.html">Encryption Configuration</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="external_storage_configuration.html">External Storage Configuration</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="external_storage_configuration_gui.html">External Storage Configuration GUI</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="federated_cloud_sharing_configuration.html">Federated Cloud Sharing Configuration</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="file_sharing_configuration.html">File Sharing Configuration</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="file_versioning.html">File Versioning</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="files_locking_transactional.html">Files LOCking Transactional</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="index.html">Index</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="previews_configuration.html">Previews Configuration</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="trashbin_options.html">Trashbin Options</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-toggle"></button>
    <span class="nav-text">Ldap</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../ldap/ldap_proxy_cache_server_setup.html">LDAP Proxy Cache Server Setup</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-toggle"></button>
    <span class="nav-text">Mimetypes</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../mimetypes/index.html">Index</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-toggle"></button>
    <span class="nav-text">Server</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../server/security/password-policy.html">Password policy</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../server/activity_configuration.html">Activity Configuration</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../server/antivirus_configuration.html">AntiVirus Configuration</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../server/automatic_configuration.html">Automatic Configuration</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../server/background_jobs_configuration.html">Background Jobs Configuration</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../server/caching_configuration.html">Caching Configuration</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../server/config_sample_php_parameters.html">Config Sample PHP Parameters</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../server/custom_client_repos.html">Custom Client Repos</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../server/email_configuration.html">Email Configuration</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../server/excluded_blacklisted_files.html">Excluded Blacklisted Files</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../server/external_sites.html">External Sites</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../server/harden_server.html">Harden Server</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../server/import_ssl_cert.html">Import SSL Cert</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../server/index.html">Index</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../server/index_php_less_urls.html">Index PHP Less URLs</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../server/knowledgebase_configuration.html">Knowledgebase Configuration</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../server/language_configuration.html">Language Configuration</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../server/logging_configuration.html">Logging Configuration</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../server/oc_server_tuning.html">OC Server Tuning</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../server/occ_command.html">OCC Command</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../server/reverse_proxy_configuration.html">Reverse Proxy Configuration</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../server/security_setup_warnings.html">Security Setup Warnings</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../server/thirdparty_php_configuration.html">Thirdparty PHP Configuration</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-toggle"></button>
    <span class="nav-text">User</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../user/index.html">Index</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../user/reset_admin_password.html">Reset Admin Password</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../user/reset_user_password.html">Reset User Password</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../user/user_auth_ftp_smb_imap.html">User Auth FTP SMB IMAP</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../user/user_auth_ldap.html">User Auth LDAP</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../user/user_configuration.html">User Configuration</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../user/user_provisioning_api.html">User Provisioning API</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../user/user_roles.html">User Roles</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../index.html">Index</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <span class="nav-text">Enterprise</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <button class="nav-toggle"></button>
    <span class="nav-text">Clients</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../enterprise/clients/creating_branded_apps.html">Creating Branded Apps</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../enterprise/clients/custom_client_repos.html">Custom Client Repos</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../enterprise/clients/index.html">Index</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-toggle"></button>
    <span class="nav-text">External_storage</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../enterprise/external_storage/enterprise_only_auth.html">Enterprise Only Auth</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../enterprise/external_storage/index.html">Index</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../enterprise/external_storage/ldap_home_connector_configuration.html">LDAP Home Connector Configuration</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../enterprise/external_storage/onedrive.html">OneDrive</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../enterprise/external_storage/s3_swift_as_primary_object_store_configuration.html">S3 Swift As Primary Object Store Configuration</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../enterprise/external_storage/sharepoint-integration_configuration.html">Sharepoint integration Configuration</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../enterprise/external_storage/windows-network-drive_configuration.html">Windows network drive Configuration</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-toggle"></button>
    <span class="nav-text">File_management</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../enterprise/file_management/files_tagging.html">Files Tagging</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../enterprise/file_management/index.html">Index</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-toggle"></button>
    <span class="nav-text">Firewall</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../enterprise/firewall/file_firewall.html">File Firewall</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../enterprise/firewall/index.html">Index</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-toggle"></button>
    <span class="nav-text">Installation</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../enterprise/installation/index.html">Index</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../enterprise/installation/install.html">Install</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../enterprise/installation/oracle_db_configuration.html">Oracle DB Configuration</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-toggle"></button>
    <span class="nav-text">Logging</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../enterprise/logging/enterprise_logging_apps.html">Enterprise Logging Apps</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../enterprise/logging/index.html">Index</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-toggle"></button>
    <span class="nav-text">Ransomware-protection</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../enterprise/ransomware-protection/index.html">Index</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-toggle"></button>
    <span class="nav-text">Server_branding</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../enterprise/server_branding/enterprise_server_branding.html">Enterprise Server Branding</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../enterprise/server_branding/index.html">Index</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-toggle"></button>
    <span class="nav-text">User_management</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../enterprise/user_management/index.html">Index</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../enterprise/user_management/user_auth_shibboleth.html">User Auth Shibboleth</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../enterprise/index.html">Index</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <span class="nav-text">Faq</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../faq/index.html">Index</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <span class="nav-text">Installation</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <button class="nav-toggle"></button>
    <span class="nav-text">Docker</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../installation/docker/index.html">Index</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-toggle"></button>
    <span class="nav-text">Letsencrypt</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../installation/letsencrypt/apache.html">Apache</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../installation/letsencrypt/index.html">Index</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../installation/letsencrypt/nginx.html">NGINX</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../installation/apps_management_installation.html">Apps Management Installation</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../installation/apps_supported.html">Apps Supported</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../installation/changing_the_web_route.html">Changing the Web Route</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../installation/command_line_installation.html">Command Line Installation</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../installation/configuration_notes_and_tips.html">Configuration Notes and Tips</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../installation/deployment_considerations.html">Deployment Considerations</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../installation/deployment_recommendations.html">Deployment Recommendations</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../installation/index.html">Index</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../installation/installation_wizard.html">Installation Wizard</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../installation/linux_installation.html">Linux Installation</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../installation/nginx_configuration.html">NGINX Configuration</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../installation/selinux_configuration.html">SELinux Configuration</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../installation/source_installation.html">Source Installation</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../installation/system_requirements.html">System ReqUIrements</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../installation/troubleshooting.html">Troubleshooting</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <span class="nav-text">Issues</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../issues/code_signing.html">Code Signing</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../issues/general_troubleshooting.html">General Troubleshooting</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../issues/impersonate_users.html">Impersonate Users</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../issues/index.html">Index</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <span class="nav-text">Maintenance</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../maintenance/backup.html">Backup</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../maintenance/enable_maintenance.html">Enable Maintenance</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../maintenance/index.html">Index</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../maintenance/manual_upgrade.html">Manual Upgrade</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../maintenance/manually-moving-data-folders.html">Manually moving data folders</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../maintenance/migrating.html">Migrating</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../maintenance/package_upgrade.html">Package Upgrade</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../maintenance/restore.html">Restore</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../maintenance/update.html">Update</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../maintenance/upgrade.html">Upgrade</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <span class="nav-text">Upgrading</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../upgrading/index.html">Index</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../upgrading/marketplace_apps.html">Marketplace Apps</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../upgrading/upgrade_php.html">Upgrade PHP</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../contents.html">Contents</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../index.html">Index</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../release_notes.html">Release Notes</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../whats_new_admin.html">Whats New Admin</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <span class="nav-text">user manual</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <span class="nav-text">External_storage</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../user_manual/external_storage/external_storage.html">External Storage</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../user_manual/external_storage/index.html">Index</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../user_manual/external_storage/sharepoint_connecting.html">Sharepoint Connecting</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <span class="nav-text">Files</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <button class="nav-toggle"></button>
    <span class="nav-text">Webgui</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../user_manual/files/webgui/comments.html">Comments</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../user_manual/files/webgui/custom_groups.html">Custom Groups</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../user_manual/files/webgui/index.html">Index</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../user_manual/files/webgui/navigating.html">Navigating</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../user_manual/files/webgui/overview.html">Overview</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../user_manual/files/webgui/quota.html">Quota</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../user_manual/files/webgui/sharing.html">Sharing</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../user_manual/files/webgui/tagging.html">Tagging</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../user_manual/files/access_webdav.html">Access Webdav</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../user_manual/files/deleted_file_management.html">Deleted File Management</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../user_manual/files/desktop_mobile_sync.html">Desktop Mobile Sync</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../user_manual/files/encrypting_files.html">Encrypting Files</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../user_manual/files/federated_cloud_sharing.html">Federated Cloud Sharing</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../user_manual/files/gallery_app.html">Gallery App</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../user_manual/files/index.html">Index</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../user_manual/files/large_file_upload.html">Large File Upload</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../user_manual/files/public_link_shares.html">Public Link Shares</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../user_manual/files/troubleshooting.html">Troubleshooting</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../user_manual/files/version_control.html">Version Control</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <span class="nav-text">Pim</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../user_manual/pim/calendar.html">Calendar</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../user_manual/pim/contacts.html">Contacts</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../user_manual/pim/index.html">Index</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../user_manual/pim/sync_ios.html">Sync Ios</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../user_manual/pim/sync_kde.html">Sync Kde</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../user_manual/pim/sync_osx.html">Sync Osx</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../user_manual/pim/sync_thunderbird.html">Sync Thunderbird</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../user_manual/pim/troubleshooting.html">Troubleshooting</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../user_manual/contents.html">Contents</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../user_manual/index.html">Index</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../user_manual/session_management.html">Session Management</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../user_manual/troubleshooting.html">Troubleshooting</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../user_manual/userpreferences.html">Userpreferences</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../user_manual/webinterface.html">Webinterface</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../user_manual/whats_new.html">Whats New</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <span class="nav-text">developer manual</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <span class="nav-text">App</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <button class="nav-toggle"></button>
    <span class="nav-text">Advanced</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../developer_manual/app/advanced/code_signing.html">Code Signing</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../developer_manual/app/advanced/custom-cache-backend.html">Custom cache backend</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../developer_manual/app/advanced/custom-storage-backend.html">Custom storage backend</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../developer_manual/app/advanced/extstorage.html">Extstorage</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../developer_manual/app/advanced/index.html">Index</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../developer_manual/app/advanced/l10n.html">L10N</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../developer_manual/app/advanced/storage-backend.html">Storage backend</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../developer_manual/app/advanced/two-factor-provider.html">Two factor provider</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../developer_manual/app/advanced/users.html">Users</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-toggle"></button>
    <span class="nav-text">Fundamentals</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../developer_manual/app/fundamentals/api.html">API</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../developer_manual/app/fundamentals/backgroundjobs.html">Backgroundjobs</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../developer_manual/app/fundamentals/changelog.html">Changelog</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../developer_manual/app/fundamentals/classloader.html">ClaSSLoader</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../developer_manual/app/fundamentals/configuration.html">Configuration</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../developer_manual/app/fundamentals/container.html">Container</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../developer_manual/app/fundamentals/controllers.html">Controllers</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../developer_manual/app/fundamentals/css.html">CSS</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../developer_manual/app/fundamentals/database.html">Database</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../developer_manual/app/fundamentals/filesystem.html">Filesystem</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../developer_manual/app/fundamentals/hooks.html">Hooks</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../developer_manual/app/fundamentals/index.html">Index</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../developer_manual/app/fundamentals/info.html">Info</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../developer_manual/app/fundamentals/js.html">JS</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../developer_manual/app/fundamentals/logging.html">Logging</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../developer_manual/app/fundamentals/market_app.html">Market App</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../developer_manual/app/fundamentals/middleware.html">Middleware</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../developer_manual/app/fundamentals/publishing.html">Publishing</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../developer_manual/app/fundamentals/routes.html">Routes</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../developer_manual/app/fundamentals/templates.html">Templates</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../developer_manual/app/fundamentals/testing.html">Testing</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-toggle"></button>
    <span class="nav-text">Tutorial</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../developer_manual/app/tutorial/database_connectivity.html">Database Connectivity</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../developer_manual/app/tutorial/development_environment.html">Development Environment</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../developer_manual/app/tutorial/finishing_touches.html">Finishing Touches</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../developer_manual/app/tutorial/index.html">Index</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../developer_manual/app/tutorial/javascript_and_css.html">JavaScript and CSS</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../developer_manual/app/tutorial/navigation.html">Navigation</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../developer_manual/app/tutorial/request.html">Request</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../developer_manual/app/tutorial/requirements.html">ReqUIrements</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../developer_manual/app/tutorial/restful_api.html">Restful API</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../developer_manual/app/tutorial/routes_and_controllers.html">Routes and Controllers</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../developer_manual/app/tutorial/template_content.html">Template Content</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../developer_manual/app/tutorial/testing.html">Testing</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../developer_manual/app/tutorial/wiring_it_up.html">Wiring it Up</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../developer_manual/app/index.html">Index</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../developer_manual/app/introduction.html">Introduction</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <span class="nav-text">Bugtracker</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../developer_manual/bugtracker/codereviews.html">Codereviews</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../developer_manual/bugtracker/index.html">Index</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../developer_manual/bugtracker/triaging.html">Triaging</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <span class="nav-text">Commun</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../developer_manual/commun/help_and_communication.html">Help and Communication</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../developer_manual/commun/index.html">Index</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <span class="nav-text">Core</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../developer_manual/core/acceptance-tests.html">Acceptance tests</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../developer_manual/core/configfile.html">Configfile</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../developer_manual/core/externalapi.html">ExternalAPI</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../developer_manual/core/index.html">Index</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../developer_manual/core/introduction.html">Introduction</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../developer_manual/core/ocs-capabilities.html">OCS capabilities</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../developer_manual/core/ocs-recipient-api.html">OCS recipient API</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../developer_manual/core/ocs-share-api.html">OCS share API</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../developer_manual/core/theming.html">Theming</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../developer_manual/core/translation.html">Translation</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../developer_manual/core/ui-testing.html">UI testing</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../developer_manual/core/unit-testing.html">Unit testing</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <span class="nav-text">General</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../developer_manual/general/backporting.html">Backporting</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../developer_manual/general/code-of-conduct.html">Code of conduct</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../developer_manual/general/codingguidelines.html">CodingGUIdelines</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../developer_manual/general/debugging.html">Debugging</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../developer_manual/general/devenv.html">Devenv</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../developer_manual/general/index.html">Index</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../developer_manual/general/performance.html">Performance</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../developer_manual/general/security.html">Security</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <span class="nav-text">Mobile_development</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <button class="nav-toggle"></button>
    <span class="nav-text">Android_library</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../developer_manual/mobile_development/android_library/examples.html">Examples</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../developer_manual/mobile_development/android_library/index.html">Index</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../developer_manual/mobile_development/android_library/library_installation.html">Library Installation</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-toggle"></button>
    <span class="nav-text">Ios_library</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../developer_manual/mobile_development/ios_library/examples.html">Examples</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../developer_manual/mobile_development/ios_library/index.html">Index</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../../developer_manual/mobile_development/ios_library/library_installation.html">Library Installation</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../developer_manual/mobile_development/index.html">Index</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <span class="nav-text">Testing</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../developer_manual/testing/index.html">Index</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <span class="nav-text">Webdav_api</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../developer_manual/webdav_api/comments.html">Comments</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../developer_manual/webdav_api/files_versions.html">Files Versions</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../developer_manual/webdav_api/index.html">Index</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../../developer_manual/webdav_api/tags.html">Tags</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../developer_manual/index.html">Index</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="navigation-explore" data-panel="explore">
  <div class="context">
    <span class="title">ownCloud // Documentation</span>
    <span class="version">master</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <span class="title">ownCloud // Documentation</span>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../../index.html">master</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
  <main class="main" role="main">
<div class="toolbar" role="navigation">
  <button class="navigation-toggle"></button>
<nav class="crumbs" role="navigation" aria-label="breadcrumbs">
  <ul>
    <li class="crumb"><a href="../../index.html">ownCloud // Documentation</a></li>
    <li class="crumb">ROOT</li>
    <li class="crumb">Configuration</li>
    <li class="crumb">Files</li>
    <li class="crumb"><a href="encryption_configuration.html">Encryption Configuration</a></li>
  </ul>
</nav>
  <div class="edit-this-page"><a href="file:///Users/settermjd/Workspace/clients/ownCloud/antora-build/admin_manual/modules/ROOT/pages/configuration/files/encryption_configuration.adoc">Edit this Page</a></div>
</div>
<article class="doc">
<h1>Encryption Configuration</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>The primary purpose of the ownCloud server-side encryption is to protect
users’ files when they’re located on remote storages, such as Dropbox
and Google Drive, and to do it smoothly and seamlessly from within
ownCloud.</p>
</div>
<div class="paragraph">
<p>From ownCloud 9.0, server-side encryption for local and remote storages
can operate independently of each other. By doing so, you can encrypt a
remote storage <em>without</em> also having to encrypt your home storage on
your ownCloud server.</p>
</div>
<div class="paragraph">
<p>Starting with ownCloud 9.0 we support Authenticated Encryption for all
newly encrypted files. See <a href="https://hackerone.com/reports/108082" class="bare">https://hackerone.com/reports/108082</a> for more
technical information about the impact.</p>
</div>
<div class="paragraph">
<p>For maximum security make sure to configure external storage with
&#8220;<em>Check for changes: Never</em>.&#8221; This will let ownCloud ignore new
files not added via ownCloud. By doing so, a malicious external storage
administrator cannot add new files to the storage without your
knowledge. However, this is not wise <em>if</em> your external storage is
subject to legitimate external changes.</p>
</div>
<div class="paragraph">
<p>ownCloud’s server-side encryption encrypts files stored on the ownCloud
server and files on remote storages that are connected to your ownCloud
server. Encryption and decryption are performed on the ownCloud server.
All files sent to remote storage will be encrypted by the ownCloud
server and decrypted before serving them to you or anyone whom you have
shared them with.</p>
</div>
<div class="paragraph">
<p>Encrypting files increases their size by roughly 35%. Remember to take
this into account when you are both provisioning storage and setting
storage quotas. Secondly, user quotas are based on the <em>unencrypted</em>
file size — <strong>not</strong> the encrypted size.</p>
</div>
<div class="paragraph">
<p>When files on an external storage are encrypted in ownCloud, you cannot
share them directly from the external storage services, only through
ownCloud sharing. This is because the key to decrypt the data <strong>never</strong>
leaves the ownCloud server.</p>
</div>
<div class="paragraph">
<p>ownCloud’s server-side encryption generates a strong encryption key,
which is unlocked by users’ passwords. As a result, your users don’t
need to track an extra password. All they need to do is log in as they
normally would. ownCloud, transparently, encrypts only the contents of
files, and not filenames and directory structures.</p>
</div>
<div class="paragraph">
<p>You should regularly backup all encryption keys to prevent permanent
data loss.</p>
</div>
<div class="paragraph">
<p>The encryption keys are stored in the following directories:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Directory</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>data/&lt;user&gt;/files_encryption</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Users’ private keys and all other keys</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">necessary to decrypt the users’ files.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>data/files_encryption</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Private keys and all other keys necessary to</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">decrypt the files stored on a system wide</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">external storage.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>You can move the keys to a different location. To do so, refer to the
<a href="">Move Key Location</a> section of the documentation.</p>
</div>
<div class="paragraph">
<p>When encryption is enabled, all files are encrypted and decrypted by the
ownCloud application, and stored encrypted on your remote storage. This
protects your data on externally hosted storage. The ownCloud admin and
the storage admin will see only encrypted files when browsing backend
storage.</p>
</div>
<div class="paragraph">
<p>Encryption keys are stored only on the ownCloud server, eliminating
exposure of your data to third-party storage providers. The encryption
application does <strong>not</strong> protect your data if your ownCloud server is
compromised, and it does not prevent ownCloud administrators from
reading users’ files. This would require client-side encryption, which
this application does not provide. If your ownCloud server is not
connected to any external storage services, it is better to use other
encryption tools, such as file-level or whole-disk encryption.</p>
</div>
<div class="paragraph">
<p>SSL terminates at or before Apache on the ownCloud server. Consequently,
all files are in an unencrypted state between the SSL connection
termination and the ownCloud code that encrypts and decrypts them. This
is, potentially, exploitable by anyone with administrator access to your
server. For more information, read:
<a href="https://owncloud.org/blog/how-owncloud-uses-encryption-to-protect-your-data/">How
ownCloud uses encryption to protect your data</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="encryption-types"><a class="anchor" href="#encryption-types"></a>Encryption Types</h2>
<div class="sectionbody">
<div class="paragraph">
<p>ownCloud provides two encryption types:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Basic encryption:</strong> every user has their own private/public key pairs,
and the private key is protected by the user’s password.</p>
</li>
<li>
<p><strong>Master Key:</strong> there is only one key (or key pair) and all files are
encrypted using that key pair.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>These encryption types are <strong>not compatible</strong>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="before-enabling-encryption"><a class="anchor" href="#before-enabling-encryption"></a>Before Enabling Encryption</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Plan very carefully before enabling encryption, because it is not
reversible via the ownCloud Web interface. If you lose your encryption
keys, your files are <strong>not</strong> recoverable. Always have backups of your
encryption keys stored in a safe location, and consider enabling all
recovery options.</p>
</div>
<div class="paragraph">
<p>You have more options via the <code>occ</code> command (see occ_encryption_label)</p>
</div>
<div class="paragraph">
<p>You can’t manage encryption without access to the command line. If your
ownCloud installation is on a hosted environment and you don’t have
access to the command line, you won’t be able to run occ commands
&lt;../server/occ_command&gt;. In this case, <strong>don’t enable encryption</strong>!</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="how-to-enable-encryption"><a class="anchor" href="#how-to-enable-encryption"></a>How To Enable Encryption</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The base encryption system is enabled and disabled on your Admin page.
First, you must enable this, and then select an encryption module to
load. Go to the <strong>Server-side encryption</strong> section of your Admin page and
check <strong>Enable encryption</strong>.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="/owncloud-docs/_images/encryption3.png" alt="image"></span></p>
</div>
<div class="paragraph">
<p>After clicking <strong>Enable encryption</strong>, you will see the message &#8220;<em>No
encryption module loaded, please load an encryption module in the app
menu</em>&#8221;. Currently, the only available encryption module is the
ownCloud Default Encryption module. So, go to your Apps page to enable
the ownCloud Default Encryption module.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="/owncloud-docs/_images/encryption1.png" alt="image"></span></p>
</div>
<div class="paragraph">
<p>Then, return to your Admin page to see that the ownCloud Default
Encryption module has been added to the module selector <em>and</em>
automatically selected. Now you <strong>must</strong> log out and then log back in to
initialize your encryption keys.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="/owncloud-docs/_images/encryption14.png" alt="image"></span></p>
</div>
<div class="paragraph">
<p>When you log back in, a checkbox for enabling encryption on your home
storage, will now be available — checked by default. Uncheck it to avoid
encrypting your home storage.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="/owncloud-docs/_images/encryption15.png" alt="image"></span></p>
</div>
<div class="sect2">
<h3 id="enabling-encryption-from-the-command-line"><a class="anchor" href="#enabling-encryption-from-the-command-line"></a>Enabling Encryption From the Command-line</h3>
<div class="paragraph">
<p>To enable encryption via the command-line, involves two commands. These
are:</p>
</div>
<div class="literalblock">
<div class="content">
<pre># Enables the default encryption module app
php occ app:enable encryption

# Enables encryption
php occ encryption:enable</pre>
</div>
</div>
<div class="paragraph">
<p>Please note, the commands have to be run in this order.</p>
</div>
<div class="paragraph">
<p>If you already have Basic encryption enabled - you <strong>must not</strong> enable
Master Key Based encryption.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="enabling-master-key-based-encryption"><a class="anchor" href="#enabling-master-key-based-encryption"></a>Enabling Master Key Based Encryption</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To enable master key based encryption:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Enable the default encryption module app, using the following
command</p>
</li>
</ol>
</div>
<div class="literalblock">
<div class="content">
<pre>php occ app:enable encryption</pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Then enable encryption, using the following command</p>
</li>
</ol>
</div>
<div class="literalblock">
<div class="content">
<pre>php occ encryption:enable</pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Then enable the master key, using the following command</p>
</li>
</ol>
</div>
<div class="literalblock">
<div class="content">
<pre>php occ encryption:select-encryption-type masterkey</pre>
</div>
</div>
<div class="paragraph">
<p>The master key mode has to be set up in a newly created instance.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Encrypt all data</p>
</li>
</ol>
</div>
<div class="literalblock">
<div class="content">
<pre>php occ encryption:encrypt-all</pre>
</div>
</div>
<div class="paragraph">
<p>This is not typically required, as the master key is often enabled at
install time. As a result, when enabling it, there should be no data to
encrypt. But, in case it’s being enabled after install, and the
installation does have files which are unencrypted, encrypt-all can be
used to encrypt them.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="sharing-encrypted-files"><a class="anchor" href="#sharing-encrypted-files"></a>Sharing Encrypted Files</h2>
<div class="sectionbody">
<div class="paragraph">
<p>After encryption is enabled, your users must also log out and log back
in to generate their personal encryption keys. They will see a yellow
warning banner that says &#8220;<em>Encryption App is enabled, but your keys
are not initialized. Please log-out and log-in again.</em>&#8221;</p>
</div>
<div class="paragraph">
<p>Also, share owners may need to re-share files after encryption is
enabled. Users who are trying to access the share will see a message
advising them to ask the share owner to re-share the file with them.</p>
</div>
<div class="paragraph">
<p>For individual shares, un-share and re-share the file. For group shares,
share with any individuals who can’t access the share. This updates the
encryption, and then the share owner can remove the individual shares.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="/owncloud-docs/_images/encryption9.png" alt="image"></span></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="encrypting-external-mountpoints"><a class="anchor" href="#encrypting-external-mountpoints"></a>Encrypting External Mountpoints</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You and your users can encrypt individual external mount points. You
must have external storage enabled on your Admin page, and enabled for
your users. Encryption settings can be configured in the mount options
for an external storage mount; see external_storage_mount_options_label
(external_storage_configuration_gui)</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="how-to-enable-users-file-recovery-keys"><a class="anchor" href="#how-to-enable-users-file-recovery-keys"></a>How To Enable Users File Recovery Keys</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Once a user has encrypted their files, if they lose their ownCloud
password, then they lose access to their encrypted files, as their files
will be unrecoverable. It is not possible, when user files are
encrypted, to reset a user’s password using the standard reset process.</p>
</div>
<div class="paragraph">
<p>If so, you’ll see a yellow banner warning:</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>Please provide an admin recovery password; otherwise, all user data will
be lost.</p>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>To avoid all this, create a Recovery Key. To do so, go to the Encryption
section of your Admin page and set a recovery key password.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="/owncloud-docs/_images/encryption10.png" alt="image"></span></p>
</div>
<div class="paragraph">
<p>You then need to ask your users to opt-in to the Recovery Key. For the
users to do this, they need to go to the &#8220;<strong>Personal</strong>&#8221; page and
enable the recovery key. This signals that they are OK that the admin
might have a way to decrypt their data for recovery reasons. If they do
<em>not</em> do this, then the Recovery Key won’t work for them.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="/owncloud-docs/_images/encryption7.png" alt="image"></span></p>
</div>
<div class="paragraph">
<p>For users who have enabled password recovery, give them a new password
and recover access to their encrypted files, by supplying the Recovery
Key on the Users page.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="/owncloud-docs/_images/encryption8.png" alt="image"></span></p>
</div>
<div class="paragraph">
<p>You may change your recovery key password.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="/owncloud-docs/_images/encryption12.png" alt="image"></span></p>
</div>
<div class="paragraph">
<p>Sharing a recovery key with a user group is <strong>not</strong> supported. This is
only supported with the master key &lt;create-a-master-key&gt;.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="changing-the-recovery-key-password"><a class="anchor" href="#changing-the-recovery-key-password"></a>Changing The Recovery Key Password</h2>
<div class="sectionbody">
<div class="paragraph">
<p>If you have misplaced your recovery key password and need to replace it,
here’s what you need to do:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Delete the recovery key from both <code>data/owncloud_private_keys</code> and
<code>data/public-keys</code></p>
</li>
<li>
<p>Edit your database table <code>oc_appconfig</code> and remove the rows with the
config keys <code>recoveryKeyId</code> and <code>recoveryAdminEnabled</code> for the appid
<code>files_encryption</code></p>
</li>
<li>
<p>Login as admin and activate the recovery key again with a new
password. This will generate a new key pair</p>
</li>
<li>
<p>All users who used the original recovery key will need to disable it
and enable it again. This deletes the old recovery share keys from their
files and encrypts their files with the new recovery key</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>You can only change the recovery key password if you know the original.
This is by design, as only admins who know the recovery key password
should be able to change it. If not, admins could hijack the recovery
key from each other</p>
</div>
<div class="paragraph">
<p>Replacing the recovery key will mean that all users will lose the
possibility to recover their files until they have applied the new
recovery key</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="disabling-encryption"><a class="anchor" href="#disabling-encryption"></a>Disabling Encryption</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To disable encryption, put your ownCloud server into single-user mode,
and then disable your encryption module with these commands:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>occ maintenance:singleuser --on
occ encryption:disable</pre>
</div>
</div>
<div class="paragraph">
<p>Take it out of single-user mode when you are finished, by using the
following command:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>occ maintenance:singleuser --off</pre>
</div>
</div>
<div class="paragraph">
<p>You may only disable encryption with by using the <a href="">occ Encryption
Commands</a>. Make sure you have backups of all encryption keys, including
those for all your users.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="not-all-files-are-encrypted"><a class="anchor" href="#not-all-files-are-encrypted"></a>Not All Files Are Encrypted</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Only the data in the files in <code>data/user/files</code> are encrypted, not the
filenames or folder structures.</p>
</div>
<div class="paragraph">
<p>In addition, these files are never encrypted:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Existing files in the trash bin &amp; Versions. Only new and changed files
after encryption is enabled are encrypted.</p>
</li>
<li>
<p>Image thumbnails from the Gallery app</p>
</li>
<li>
<p>Previews from the Files app</p>
</li>
<li>
<p>The search index from the full-text search app</p>
</li>
<li>
<p>Third-party app data</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>There may be other files that are not encrypted. Only files that are
exposed to third-party storage providers are guaranteed to be encrypted.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="ldap-and-other-external-user-back-ends"><a class="anchor" href="#ldap-and-other-external-user-back-ends"></a>LDAP and Other External User Back-ends</h2>
<div class="sectionbody">
<div class="paragraph">
<p>If you use an external user back-end, such as an LDAP or Samba server,
and you change a user’s password on that back-end, the user will be
prompted to change their ownCloud login to match on their next ownCloud
login. The user will need both their old and new passwords to do this.
If you have enabled the recovery key then you can change a user’s
password in the ownCloud Users panel to match their back-end password
and then — of course — notify the user and give them their new password.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="occ-encryption-commands"><a class="anchor" href="#occ-encryption-commands"></a>occ Encryption Commands</h2>
<div class="sectionbody">
<div class="paragraph">
<p>If you have shell access, you may use the <code>occ</code> command to perform
encryption operations. You also have additional options such as
decryption and creating a single master encryption key. See
encryption_label for detailed instructions on using <code>occ</code>.</p>
</div>
<div class="sect2">
<h3 id="view-current-encryption-status"><a class="anchor" href="#view-current-encryption-status"></a>View Current Encryption Status</h3>
<div class="paragraph">
<p>Get the current encryption status and the loaded encryption module:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>occ encryption:status
 - enabled: false
 - defaultModule: OC_DEFAULT_MODULE</pre>
</div>
</div>
<div class="paragraph">
<p>This is equivalent to checking <strong>Enable server-side encryption</strong> on your
Admin page:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>occ encryption:enable
Encryption enabled

Default module: OC_DEFAULT_MODULE</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="list-available-encryption-modules"><a class="anchor" href="#list-available-encryption-modules"></a>List Available Encryption Modules</h3>
<div class="paragraph">
<p>To list the available encryption modules:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>occ encryption:list-modules
 - OC_DEFAULT_MODULE: Default encryption module [default*]</pre>
</div>
</div>
<div class="paragraph">
<p>Select a different default Encryption module (currently the only
available module is <code>OC_DEFAULT_MODULE</code>):</p>
</div>
<div class="literalblock">
<div class="content">
<pre>occ encryption:set-default-module [Module ID].</pre>
</div>
</div>
<div class="paragraph">
<p>The [module ID] is taken from the <code>encryption:list-modules</code> command.</p>
</div>
</div>
<div class="sect2">
<h3 id="encrypt-and-decrypt-data-files-for-all-users"><a class="anchor" href="#encrypt-and-decrypt-data-files-for-all-users"></a>Encrypt and Decrypt Data Files For All Users</h3>
<div class="paragraph">
<p>For performance reasons, when you enable encryption on an ownCloud
server only new and changed files are encrypted. This command gives you
the option to encrypt all files. You must first put your ownCloud server
into single-user mode to prevent any user activity until encryption is
completed:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>occ maintenance:singleuser --on
Single user mode is currently enabled</pre>
</div>
</div>
<div class="paragraph">
<p>Then run <code>occ</code>:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>occ encryption:encrypt-all

You are about to start encrypting all files stored in your ownCloud.
It will depend on the encryption module you use which files get encrypted.
Depending on the number and size of your files this can take some time.
Please make sure that no users access their files during this process!

Do you really want to continue? (y/n)</pre>
</div>
</div>
<div class="paragraph">
<p>When you type <code>y</code> it creates a key pair for each of your users, and then
encrypts their files, displaying progress until all user files are
encrypted.</p>
</div>
<div class="paragraph">
<p>Decrypt all user data files, or optionally a single user:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>occ encryption:decrypt-all [username]</pre>
</div>
</div>
<div class="paragraph">
<p>View current location of keys:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>occ encryption:show-key-storage-root
Current key storage root:  default storage location (data/)</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="move-key-location"><a class="anchor" href="#move-key-location"></a>Move Key Location</h3>
<div class="paragraph">
<p>Move keys to a different root folder, either locally or on a different
server. The folder must already exist, be owned by root and your HTTP
group, and be restricted to root and your HTTP group. This example is
for Ubuntu Linux. Note that the new folder is relative to your <code>occ</code>
directory:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>mkdir /etc/keys
chown -R root:www-data /etc/keys
chmod -R 0770 /etc/keys
occ encryption:change-key-storage-root ../../../etc/keys
Start to move keys:
   4 [============================]
Key storage root successfully changed to ../../../etc/keys</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="create-a-new-master-key"><a class="anchor" href="#create-a-new-master-key"></a>Create a New Master Key</h3>
<div class="paragraph">
<p>Use this when you have:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A single-sign-on infrastructure</p>
</li>
<li>
<p>A fresh installation with no existing data</p>
</li>
<li>
<p>Systems where encryption has not already been enabled</p>
</li>
</ul>
</div>
<div class="literalblock">
<div class="content">
<pre>occ encryption:enable-master-key</pre>
</div>
</div>
<div class="paragraph">
<p>It is not possible to disable it.</p>
</div>
</div>
<div class="sect2">
<h3 id="recreating-an-existing-master-key"><a class="anchor" href="#recreating-an-existing-master-key"></a>Recreating an Existing Master Key</h3>
<div class="paragraph">
<p>If the master key needs replacing, for example, because it has been
compromised, an occ command is available. The command is
encryption:recreate-master-key &lt;encryption_label&gt;. It replaces existing
master key with new one and encrypts the files with the new key.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="disabling-encryption-1"><a class="anchor" href="#disabling-encryption-1"></a>Disabling Encryption</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You may disable encryption only with <code>occ</code>. Make sure you have backups
of all the encryption keys, including those for all users. When you do,
put your ownCloud server into single-user mode, and then disable your
encryption module with this command:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>occ maintenance:singleuser --on
occ encryption:disable</pre>
</div>
</div>
<div class="paragraph">
<p>Encryption cannot be disabled without the user’s password or
file recovery key &lt;enable-file-recovery-key&gt;. If you don’t have access
to at least one of these then there is no way to decrypt all files.</p>
</div>
<div class="paragraph">
<p>Then, take it out of single-user mode when you are finished with this
command:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>occ maintenance:singleuser --off</pre>
</div>
</div>
<div class="paragraph">
<p>It is possible to disable encryption with the file recovery key, <em>if</em>
every user uses them. If so, "decrypt all" &lt;encryption_label&gt; will use
it to decrypt all files.</p>
</div>
<div class="paragraph">
<p>It is <strong>not</strong> planned to move this to the next user login or a background
job. If that was done, then login passwords would need to be stored in
the database, which could be a security issue.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="files-not-encrypted"><a class="anchor" href="#files-not-encrypted"></a>Files Not Encrypted</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Only the data in the files in <code>data/user/files</code> are encrypted, and not
the filenames or folder structures. These files are never encrypted:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Existing files in the trash bin &amp; Versions. Only new and changed files
after encryption is enabled are encrypted.</p>
</li>
<li>
<p>Existing files in Versions</p>
</li>
<li>
<p>Image thumbnails from the Gallery app</p>
</li>
<li>
<p>Previews from the Files app</p>
</li>
<li>
<p>The search index from the full-text search app</p>
</li>
<li>
<p>Third-party app data</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>There may be other files that are not encrypted; only files that are
exposed to third-party storage providers are guaranteed to be encrypted.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="ldap-and-other-external-user-back-ends-1"><a class="anchor" href="#ldap-and-other-external-user-back-ends-1"></a>LDAP and Other External User Back-ends</h2>
<div class="sectionbody">
<div class="paragraph">
<p>If you use an external user back-end, such as an LDAP or Samba server,
and you change a user’s password on the back-end, the user will be
prompted to change their ownCloud login to match on their next ownCloud
login. The user will need both their old and new passwords to do this.
If you have enabled the Recovery Key, then you can change a user’s
password in the ownCloud Users panel to match their back-end password,
and then, of course, notify the user and give them their new password.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="encryption-migration-to-owncloud-8.0"><a class="anchor" href="#encryption-migration-to-owncloud-8.0"></a>Encryption migration to ownCloud 8.0</h2>
<div class="sectionbody">
<div class="paragraph">
<p>When you upgrade from older versions of ownCloud to ownCloud 8.0, you
must manually migrate your encryption keys with the <em>occ</em> command after
the upgrade is complete, like this example for CentOS:
<code>sudo -u apache php occ encryption:migrate-keys</code> You must run <em>occ</em> as
your HTTP user. See ../../configuration/server/occ_command to learn more
about <em>occ</em>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="encryption-migration-to-owncloud-8.1"><a class="anchor" href="#encryption-migration-to-owncloud-8.1"></a>Encryption migration to ownCloud 8.1</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The encryption backend has changed again in ownCloud 8.1, so you must
take some additional steps to migrate encryption correctly. If you do
not follow these steps you may not be able to access your files.</p>
</div>
<div class="paragraph">
<p>Before you start your upgrade, put your ownCloud server into
<code>maintenance:singleuser</code> mode (See
../../maintenance/enable_maintenance.) You must do this to prevent users
and sync clients from accessing files before you have completed your
encryption migration.</p>
</div>
<div class="paragraph">
<p>After your upgrade is complete, follow the steps in
enable_encryption_label to enable the new encryption system. Then click
the <strong>Start Migration</strong> button on your Admin page to migrate your
encryption keys, or use the <code>occ</code> command. We strongly recommend using
the <code>occ</code> command; the <strong>Start Migration</strong> button is for admins who do not
have access to the console, for example, installations on shared
hosting. This example is for Debian/Ubuntu Linux:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>$ sudo -u www-data php occ encryption:migrate</pre>
</div>
</div>
<div class="paragraph">
<p>This example is for Red Hat/CentOS/Fedora Linux:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>$ sudo -u apache php occ encryption:migrate</pre>
</div>
</div>
<div class="paragraph">
<p>You must run <code>occ</code> as your HTTP user; see
../../configuration/server/occ_command.</p>
</div>
<div class="paragraph">
<p>When you are finished, take your ownCloud server out of
<code>maintenance:singleuser</code> mode.</p>
</div>
</div>
</div>
</article>
  </main>
</div>
<footer class="footer">
  <p>This page was built using the Antora default UI.</p>
  <p>The source code for this UI is licensed under the terms of the MPL-2.0 license.</p>
</footer>
<script src="../../../owncloud-docs/js/site.js"></script>
<script src="../../../owncloud-docs/js/vendor/highlight.js"></script>
<script>hljs.initHighlighting()</script>
  </body>
</html>
