<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Deployment Recommendations :: ownCloud Documentation</title>
    <link rel="stylesheet" href="../../owncloud-docs/css/site.css">
  </head>
  <body class="article">
<header class="header" role="banner">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="../..">ownCloud Documentation</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="#">Home</a>
        <a class="navbar-item" href="https://owncloud.org/news/">News</a>
        <a class="navbar-item" href="https://owncloud.org/features/">Features</a>
        <a class="navbar-item" href="https://demo.owncloud.org/">Demo</a>
        <a class="navbar-item" href="#">Documentation</a>
        <a class="navbar-item" href="https://owncloud.org/contribute/">Contribute</a>
        <a class="navbar-item" href="https://owncloud.org/support">Support</a>
        <a class="navbar-item" href="https://owncloud.com/">Enterprise Edition</a>
        <!--<div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Products</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Product A</a>
            <a class="navbar-item" href="#">Product B</a>
            <a class="navbar-item" href="#">Product C</a>
          </div>
        </div>-->
        <div class="navbar-item">
          <span class="control">
            <a class="button is-primary" href="https://owncloud.org/install/">Download</a>
          </span>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="main-wrapper">
<div class="navigation-container" data-component="owncloud-docs" data-version="master">
  <aside class="navigation" role="navigation">
    <div class="panels">
<div class="navigation-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../index.html">ownCloud // Documentation</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <span class="nav-text">ROOT</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <span class="nav-text">Appliance</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <button class="nav-toggle"></button>
    <span class="nav-text">Ucs</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../appliance/ucs/add-groups-and-users.html">Add groups and users</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../appliance/Active_Directory.html">Active Directory</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../appliance/Backup.html">Backup</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../appliance/Clamav.html">ClamAV</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../appliance/Office.html">Office</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../appliance/certificates.html">Certificates</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../appliance/howto-update-owncloud.html">Howto update ownCloud</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../appliance/index.html">Index</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../appliance/installation.html">Installation</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../appliance/login_information.html">Login Information</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../appliance/managing-ucs.html">Managing UCS</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../appliance/what-is-it.html">What is it</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <span class="nav-text">Configuration</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <button class="nav-toggle"></button>
    <span class="nav-text">Database</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../configuration/database/db_conversion.html">DB Conversion</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../configuration/database/index.html">Index</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../configuration/database/linux_database_configuration.html">Linux Database Configuration</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-toggle"></button>
    <span class="nav-text">Files</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../configuration/files/external_storage/amazons3.html">AmazonS3</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../configuration/files/big_file_upload_configuration.html">Big File Upload Configuration</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../configuration/files/default_files_configuration.html">Default Files Configuration</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../configuration/files/encryption_configuration.html">Encryption Configuration</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../configuration/files/external_storage_configuration.html">External Storage Configuration</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../configuration/files/external_storage_configuration_gui.html">External Storage Configuration GUI</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../configuration/files/federated_cloud_sharing_configuration.html">Federated Cloud Sharing Configuration</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../configuration/files/file_sharing_configuration.html">File Sharing Configuration</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../configuration/files/file_versioning.html">File Versioning</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../configuration/files/files_locking_transactional.html">Files LOCking Transactional</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../configuration/files/index.html">Index</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../configuration/files/previews_configuration.html">Previews Configuration</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../configuration/files/trashbin_options.html">Trashbin Options</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-toggle"></button>
    <span class="nav-text">Ldap</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../configuration/ldap/ldap_proxy_cache_server_setup.html">LDAP Proxy Cache Server Setup</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-toggle"></button>
    <span class="nav-text">Mimetypes</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../configuration/mimetypes/index.html">Index</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-toggle"></button>
    <span class="nav-text">Server</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../configuration/server/security/password-policy.html">Password policy</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../configuration/server/activity_configuration.html">Activity Configuration</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../configuration/server/antivirus_configuration.html">AntiVirus Configuration</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../configuration/server/automatic_configuration.html">Automatic Configuration</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../configuration/server/background_jobs_configuration.html">Background Jobs Configuration</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../configuration/server/caching_configuration.html">Caching Configuration</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../configuration/server/config_sample_php_parameters.html">Config Sample PHP Parameters</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../configuration/server/custom_client_repos.html">Custom Client Repos</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../configuration/server/email_configuration.html">Email Configuration</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../configuration/server/excluded_blacklisted_files.html">Excluded Blacklisted Files</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../configuration/server/external_sites.html">External Sites</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../configuration/server/harden_server.html">Harden Server</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../configuration/server/import_ssl_cert.html">Import SSL Cert</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../configuration/server/index.html">Index</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../configuration/server/index_php_less_urls.html">Index PHP Less URLs</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../configuration/server/knowledgebase_configuration.html">Knowledgebase Configuration</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../configuration/server/language_configuration.html">Language Configuration</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../configuration/server/logging_configuration.html">Logging Configuration</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../configuration/server/oc_server_tuning.html">OC Server Tuning</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../configuration/server/occ_command.html">OCC Command</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../configuration/server/reverse_proxy_configuration.html">Reverse Proxy Configuration</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../configuration/server/security_setup_warnings.html">Security Setup Warnings</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../configuration/server/thirdparty_php_configuration.html">Thirdparty PHP Configuration</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-toggle"></button>
    <span class="nav-text">User</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../configuration/user/index.html">Index</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../configuration/user/reset_admin_password.html">Reset Admin Password</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../configuration/user/reset_user_password.html">Reset User Password</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../configuration/user/user_auth_ftp_smb_imap.html">User Auth FTP SMB IMAP</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../configuration/user/user_auth_ldap.html">User Auth LDAP</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../configuration/user/user_configuration.html">User Configuration</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../configuration/user/user_provisioning_api.html">User Provisioning API</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../configuration/user/user_roles.html">User Roles</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../configuration/index.html">Index</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <span class="nav-text">Enterprise</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <button class="nav-toggle"></button>
    <span class="nav-text">Clients</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../enterprise/clients/creating_branded_apps.html">Creating Branded Apps</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../enterprise/clients/custom_client_repos.html">Custom Client Repos</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../enterprise/clients/index.html">Index</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-toggle"></button>
    <span class="nav-text">External_storage</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../enterprise/external_storage/enterprise_only_auth.html">Enterprise Only Auth</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../enterprise/external_storage/index.html">Index</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../enterprise/external_storage/ldap_home_connector_configuration.html">LDAP Home Connector Configuration</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../enterprise/external_storage/onedrive.html">OneDrive</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../enterprise/external_storage/s3_swift_as_primary_object_store_configuration.html">S3 Swift As Primary Object Store Configuration</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../enterprise/external_storage/sharepoint-integration_configuration.html">Sharepoint integration Configuration</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../enterprise/external_storage/windows-network-drive_configuration.html">Windows network drive Configuration</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-toggle"></button>
    <span class="nav-text">File_management</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../enterprise/file_management/files_tagging.html">Files Tagging</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../enterprise/file_management/index.html">Index</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-toggle"></button>
    <span class="nav-text">Firewall</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../enterprise/firewall/file_firewall.html">File Firewall</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../enterprise/firewall/index.html">Index</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-toggle"></button>
    <span class="nav-text">Installation</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../enterprise/installation/index.html">Index</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../enterprise/installation/install.html">Install</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../enterprise/installation/oracle_db_configuration.html">Oracle DB Configuration</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-toggle"></button>
    <span class="nav-text">Logging</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../enterprise/logging/enterprise_logging_apps.html">Enterprise Logging Apps</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../enterprise/logging/index.html">Index</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-toggle"></button>
    <span class="nav-text">Ransomware-protection</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../enterprise/ransomware-protection/index.html">Index</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-toggle"></button>
    <span class="nav-text">Server_branding</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../enterprise/server_branding/enterprise_server_branding.html">Enterprise Server Branding</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../enterprise/server_branding/index.html">Index</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-toggle"></button>
    <span class="nav-text">User_management</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../enterprise/user_management/index.html">Index</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../enterprise/user_management/user_auth_shibboleth.html">User Auth Shibboleth</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../enterprise/index.html">Index</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <span class="nav-text">Faq</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../faq/index.html">Index</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <span class="nav-text">Installation</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <button class="nav-toggle"></button>
    <span class="nav-text">Docker</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="docker/index.html">Index</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-toggle"></button>
    <span class="nav-text">Letsencrypt</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="letsencrypt/apache.html">Apache</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="letsencrypt/index.html">Index</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="letsencrypt/nginx.html">NGINX</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="apps_management_installation.html">Apps Management Installation</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="apps_supported.html">Apps Supported</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="changing_the_web_route.html">Changing the Web Route</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="command_line_installation.html">Command Line Installation</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="configuration_notes_and_tips.html">Configuration Notes and Tips</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="deployment_considerations.html">Deployment Considerations</a>
  </li>
  <li class="nav-item is-current-page" data-depth="3">
    <a class="nav-link" href="deployment_recommendations.html">Deployment Recommendations</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="index.html">Index</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="installation_wizard.html">Installation Wizard</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="linux_installation.html">Linux Installation</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="nginx_configuration.html">NGINX Configuration</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="selinux_configuration.html">SELinux Configuration</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="source_installation.html">Source Installation</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="system_requirements.html">System ReqUIrements</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="troubleshooting.html">Troubleshooting</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <span class="nav-text">Issues</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../issues/code_signing.html">Code Signing</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../issues/general_troubleshooting.html">General Troubleshooting</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../issues/impersonate_users.html">Impersonate Users</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../issues/index.html">Index</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <span class="nav-text">Maintenance</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../maintenance/backup.html">Backup</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../maintenance/enable_maintenance.html">Enable Maintenance</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../maintenance/index.html">Index</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../maintenance/manual_upgrade.html">Manual Upgrade</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../maintenance/manually-moving-data-folders.html">Manually moving data folders</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../maintenance/migrating.html">Migrating</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../maintenance/package_upgrade.html">Package Upgrade</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../maintenance/restore.html">Restore</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../maintenance/update.html">Update</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../maintenance/upgrade.html">Upgrade</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <span class="nav-text">Upgrading</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../upgrading/index.html">Index</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../upgrading/marketplace_apps.html">Marketplace Apps</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../upgrading/upgrade_php.html">Upgrade PHP</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../contents.html">Contents</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../index.html">Index</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../release_notes.html">Release Notes</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../whats_new_admin.html">Whats New Admin</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <span class="nav-text">user manual</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <span class="nav-text">External_storage</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../user_manual/external_storage/external_storage.html">External Storage</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../user_manual/external_storage/index.html">Index</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../user_manual/external_storage/sharepoint_connecting.html">Sharepoint Connecting</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <span class="nav-text">Files</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <button class="nav-toggle"></button>
    <span class="nav-text">Webgui</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../user_manual/files/webgui/comments.html">Comments</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../user_manual/files/webgui/custom_groups.html">Custom Groups</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../user_manual/files/webgui/index.html">Index</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../user_manual/files/webgui/navigating.html">Navigating</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../user_manual/files/webgui/overview.html">Overview</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../user_manual/files/webgui/quota.html">Quota</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../user_manual/files/webgui/sharing.html">Sharing</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../user_manual/files/webgui/tagging.html">Tagging</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../user_manual/files/access_webdav.html">Access Webdav</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../user_manual/files/deleted_file_management.html">Deleted File Management</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../user_manual/files/desktop_mobile_sync.html">Desktop Mobile Sync</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../user_manual/files/encrypting_files.html">Encrypting Files</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../user_manual/files/federated_cloud_sharing.html">Federated Cloud Sharing</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../user_manual/files/gallery_app.html">Gallery App</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../user_manual/files/index.html">Index</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../user_manual/files/large_file_upload.html">Large File Upload</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../user_manual/files/public_link_shares.html">Public Link Shares</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../user_manual/files/troubleshooting.html">Troubleshooting</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../user_manual/files/version_control.html">Version Control</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <span class="nav-text">Pim</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../user_manual/pim/calendar.html">Calendar</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../user_manual/pim/contacts.html">Contacts</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../user_manual/pim/index.html">Index</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../user_manual/pim/sync_ios.html">Sync Ios</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../user_manual/pim/sync_kde.html">Sync Kde</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../user_manual/pim/sync_osx.html">Sync Osx</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../user_manual/pim/sync_thunderbird.html">Sync Thunderbird</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../user_manual/pim/troubleshooting.html">Troubleshooting</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../user_manual/contents.html">Contents</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../user_manual/index.html">Index</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../user_manual/session_management.html">Session Management</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../user_manual/troubleshooting.html">Troubleshooting</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../user_manual/userpreferences.html">Userpreferences</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../user_manual/webinterface.html">Webinterface</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../user_manual/whats_new.html">Whats New</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <span class="nav-text">developer manual</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <span class="nav-text">App</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <button class="nav-toggle"></button>
    <span class="nav-text">Advanced</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../developer_manual/app/advanced/code_signing.html">Code Signing</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../developer_manual/app/advanced/custom-cache-backend.html">Custom cache backend</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../developer_manual/app/advanced/custom-storage-backend.html">Custom storage backend</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../developer_manual/app/advanced/extstorage.html">Extstorage</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../developer_manual/app/advanced/index.html">Index</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../developer_manual/app/advanced/l10n.html">L10N</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../developer_manual/app/advanced/storage-backend.html">Storage backend</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../developer_manual/app/advanced/two-factor-provider.html">Two factor provider</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../developer_manual/app/advanced/users.html">Users</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-toggle"></button>
    <span class="nav-text">Fundamentals</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../developer_manual/app/fundamentals/api.html">API</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../developer_manual/app/fundamentals/backgroundjobs.html">Backgroundjobs</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../developer_manual/app/fundamentals/changelog.html">Changelog</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../developer_manual/app/fundamentals/classloader.html">ClaSSLoader</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../developer_manual/app/fundamentals/configuration.html">Configuration</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../developer_manual/app/fundamentals/container.html">Container</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../developer_manual/app/fundamentals/controllers.html">Controllers</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../developer_manual/app/fundamentals/css.html">CSS</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../developer_manual/app/fundamentals/database.html">Database</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../developer_manual/app/fundamentals/filesystem.html">Filesystem</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../developer_manual/app/fundamentals/hooks.html">Hooks</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../developer_manual/app/fundamentals/index.html">Index</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../developer_manual/app/fundamentals/info.html">Info</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../developer_manual/app/fundamentals/js.html">JS</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../developer_manual/app/fundamentals/logging.html">Logging</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../developer_manual/app/fundamentals/market_app.html">Market App</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../developer_manual/app/fundamentals/middleware.html">Middleware</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../developer_manual/app/fundamentals/publishing.html">Publishing</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../developer_manual/app/fundamentals/routes.html">Routes</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../developer_manual/app/fundamentals/templates.html">Templates</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../developer_manual/app/fundamentals/testing.html">Testing</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-toggle"></button>
    <span class="nav-text">Tutorial</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../developer_manual/app/tutorial/database_connectivity.html">Database Connectivity</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../developer_manual/app/tutorial/development_environment.html">Development Environment</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../developer_manual/app/tutorial/finishing_touches.html">Finishing Touches</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../developer_manual/app/tutorial/index.html">Index</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../developer_manual/app/tutorial/javascript_and_css.html">JavaScript and CSS</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../developer_manual/app/tutorial/navigation.html">Navigation</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../developer_manual/app/tutorial/request.html">Request</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../developer_manual/app/tutorial/requirements.html">ReqUIrements</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../developer_manual/app/tutorial/restful_api.html">Restful API</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../developer_manual/app/tutorial/routes_and_controllers.html">Routes and Controllers</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../developer_manual/app/tutorial/template_content.html">Template Content</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../developer_manual/app/tutorial/testing.html">Testing</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../developer_manual/app/tutorial/wiring_it_up.html">Wiring it Up</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../developer_manual/app/index.html">Index</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../developer_manual/app/introduction.html">Introduction</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <span class="nav-text">Bugtracker</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../developer_manual/bugtracker/codereviews.html">Codereviews</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../developer_manual/bugtracker/index.html">Index</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../developer_manual/bugtracker/triaging.html">Triaging</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <span class="nav-text">Commun</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../developer_manual/commun/help_and_communication.html">Help and Communication</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../developer_manual/commun/index.html">Index</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <span class="nav-text">Core</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../developer_manual/core/acceptance-tests.html">Acceptance tests</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../developer_manual/core/configfile.html">Configfile</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../developer_manual/core/externalapi.html">ExternalAPI</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../developer_manual/core/index.html">Index</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../developer_manual/core/introduction.html">Introduction</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../developer_manual/core/ocs-capabilities.html">OCS capabilities</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../developer_manual/core/ocs-recipient-api.html">OCS recipient API</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../developer_manual/core/ocs-share-api.html">OCS share API</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../developer_manual/core/theming.html">Theming</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../developer_manual/core/translation.html">Translation</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../developer_manual/core/ui-testing.html">UI testing</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../developer_manual/core/unit-testing.html">Unit testing</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <span class="nav-text">General</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../developer_manual/general/backporting.html">Backporting</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../developer_manual/general/code-of-conduct.html">Code of conduct</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../developer_manual/general/codingguidelines.html">CodingGUIdelines</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../developer_manual/general/debugging.html">Debugging</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../developer_manual/general/devenv.html">Devenv</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../developer_manual/general/index.html">Index</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../developer_manual/general/performance.html">Performance</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../developer_manual/general/security.html">Security</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <span class="nav-text">Mobile_development</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <button class="nav-toggle"></button>
    <span class="nav-text">Android_library</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../developer_manual/mobile_development/android_library/examples.html">Examples</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../developer_manual/mobile_development/android_library/index.html">Index</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../developer_manual/mobile_development/android_library/library_installation.html">Library Installation</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-toggle"></button>
    <span class="nav-text">Ios_library</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../developer_manual/mobile_development/ios_library/examples.html">Examples</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../developer_manual/mobile_development/ios_library/index.html">Index</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../developer_manual/mobile_development/ios_library/library_installation.html">Library Installation</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../developer_manual/mobile_development/index.html">Index</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <span class="nav-text">Testing</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../developer_manual/testing/index.html">Index</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <span class="nav-text">Webdav_api</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../developer_manual/webdav_api/comments.html">Comments</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../developer_manual/webdav_api/files_versions.html">Files Versions</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../developer_manual/webdav_api/index.html">Index</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../developer_manual/webdav_api/tags.html">Tags</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../developer_manual/index.html">Index</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="navigation-explore" data-panel="explore">
  <div class="context">
    <span class="title">ownCloud // Documentation</span>
    <span class="version">master</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <span class="title">ownCloud // Documentation</span>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../index.html">master</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
  <main class="main" role="main">
<div class="toolbar" role="navigation">
  <button class="navigation-toggle"></button>
<nav class="crumbs" role="navigation" aria-label="breadcrumbs">
  <ul>
    <li class="crumb"><a href="../index.html">ownCloud // Documentation</a></li>
    <li class="crumb">ROOT</li>
    <li class="crumb">Installation</li>
    <li class="crumb"><a href="deployment_recommendations.html">Deployment Recommendations</a></li>
  </ul>
</nav>
  <div class="edit-this-page"><a href="file:///Users/settermjd/Workspace/clients/ownCloud/antora-build/admin_manual/modules/ROOT/pages/installation/deployment_recommendations.adoc">Edit this Page</a></div>
</div>
<article class="doc">
<h1>Deployment Recommendations</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>What is the best way to install and maintain ownCloud? The answer to
that is, as always: <em>`&#8216;it depends&#8217;'</em>.</p>
</div>
<div class="paragraph">
<p>This is because every ownCloud customer has their own particular needs
and IT infrastructure. However, both ownCloud and the LAMP stack are
highly-configurable. Given that, in this document we present a set of
general recommendations, followed by three typical scenarios, and finish
up with making best-practice recommendations for both software and
hardware.</p>
</div>
<div class="paragraph">
<p>The recommendations presented here are based on a standard ownCloud
installation, one without any particular <em>apps</em>, <em>themes</em>, or <em>code
changes</em>. But, server load is dependent upon the number of <em>clients</em>,
<em>files</em>, and <em>user activity</em>, as well as other usage patterns. Given
that, these recommendations are only a rule of thumb based on our
experience, as well as that of one of our customers.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="general-recommendations"><a class="anchor" href="#general-recommendations"></a>General Recommendations</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Operating system: Linux.</p>
</li>
<li>
<p>Web server: Apache 2.4.</p>
</li>
<li>
<p>Database: MySQL/MariaDB with InnoDB storage engine (MyISAM is not
supported, see: db-storage-engine-label)</p>
</li>
<li>
<p>PHP 5.6+.</p>
</li>
<li>
<p>Consider setting up a scale-out deployment, or using
<a href="https://doc.owncloud.org/server/latest/user_manual/files/federated_cloud_sharing.html">Federated
Cloud Sharing</a> to keep individual ownCloud instances to a manageable
size.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Whatever the size of your organization, always keep one thing in mind:
<em>The amount of data stored in ownCloud will only grow. So plan ahead.</em></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="owncloud-administrators-must-have-command-line-or-cron-access"><a class="anchor" href="#owncloud-administrators-must-have-command-line-or-cron-access"></a>ownCloud Administrators Must Have Command Line or Cron Access</h2>
<div class="sectionbody">
<div class="paragraph">
<p>We only recommend using hosts that provide command-line or Cron access
(ideally both) <em>to ownCloud administrators</em>, for three key reasons:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Without command-line access,
OCC commands &lt;../configuration/server/occ_command&gt;, required for
administrative tasks such as repairs and upgrades, are not available.</p>
</li>
<li>
<p>Without crontab access, you cannot run background jobs reliably.
ajax/cron.php &lt;ajax_cron_label&gt; is available, but it is not reliable
enough, because it only runs when people are using the web UI.
Additionally, ownCloud relies heavily on
background jobs &lt;available_background_jobs_label&gt; especially for
long-running operations, which will likely cause PHP timeouts.</p>
</li>
<li>
<p>PHP timeout values are often low. Having low timeout settings can
break long-running operations, such as moving a huge folder.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="scenario-1-small-workgroups-and-departments"><a class="anchor" href="#scenario-1-small-workgroups-and-departments"></a>Scenario 1: Small Workgroups and Departments</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This recommendation applies if you meet the following criteria:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Option</th>
<th class="tableblock halign-left valign-top">Value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Number of users</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Up to 150 users</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Storage size</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">100 GB to 10TB</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">High availability level</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zero-downtime backups via Btrfs snapshots,
component</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">failure leads to interruption of service. Alternate</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">backup scheme on other filesystems: nightly backups</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">— with service interruption.</p></td>
</tr>
</tbody>
</table>
<div class="sect2">
<h3 id="recommended-system-requirements"><a class="anchor" href="#recommended-system-requirements"></a>Recommended System Requirements</h3>
<div class="paragraph">
<p>One machine running the application, web, and database server, as well
as local storage. Authentication via an existing LDAP or Active
Directory server.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="/owncloud-docs/_images/deprecs-1.png" alt="image"></span></p>
</div>
<div class="sect3">
<h4 id="components"><a class="anchor" href="#components"></a>Components</h4>
<div class="paragraph">
<p>One server with at least 2 CPU cores, 16GB RAM, and local storage as
needed.</p>
</div>
</div>
<div class="sect3">
<h4 id="operating-system"><a class="anchor" href="#operating-system"></a>Operating system</h4>
<div class="paragraph">
<p>Enterprise-grade Linux distribution with full support from an operating
system vendor. We recommend both RedHat Enterprise Linux and SUSE Linux
Enterprise Server 12.</p>
</div>
</div>
<div class="sect3">
<h4 id="ssl-configuration"><a class="anchor" href="#ssl-configuration"></a>SSL Configuration</h4>
<div class="paragraph">
<p>The SSL termination is done in Apache. A standard SSL certificate is
required to be installed according to
<a href="https://httpd.apache.org/docs/2.4/ssl/ssl_howto.html">the official Apache
documentation</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="load-balancer"><a class="anchor" href="#load-balancer"></a>Load Balancer</h4>
<div class="paragraph">
<p>None.</p>
</div>
</div>
<div class="sect3">
<h4 id="database"><a class="anchor" href="#database"></a>Database</h4>
<div class="paragraph">
<p>MySQL, MariaDB, or PostgreSQL. We currently recommend MySQL / MariaDB,
as our customers have had good experiences when moving to a Galera
cluster to scale the DB. If using either MySQL or MariaDB, you must use
the InnoDB storage engine as MyISAM is not supported, see:
db-storage-engine-label</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>If you are using MaxScale/Galera, then you need to use at least version
1.3.0. In earlier versions, there is a bug where the value of
<code>last_insert_id</code> is not routed to the master node. This bug can cause
loops within ownCloud and corrupt database rows. You can find out more
information <a href="https://jira.mariadb.org/browse/MXS-220">in the issue
documentation</a>.</p>
</div>
</blockquote>
</div>
</div>
<div class="sect3">
<h4 id="backup"><a class="anchor" href="#backup"></a>Backup</h4>
<div class="paragraph">
<p>Install ownCloud, the ownCloud data directory, and database on
<a href="https://en.wikipedia.org/wiki/Btrfs">a Btrfs filesystem</a>. Make regular
snapshots at desired intervals for zero downtime backups. Mount DB
partitions with the &#8220;nodatacow&#8221; option to prevent fragmentation.</p>
</div>
<div class="paragraph">
<p>Alternatively, you can make nightly backups — with service interruption
— as follows:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Shut down Apache.</p>
</li>
<li>
<p>Create database dump.</p>
</li>
<li>
<p>Push data directory to backup.</p>
</li>
<li>
<p>Push database dump to backup.</p>
</li>
<li>
<p>Start Apache.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>After these steps have been completed, then, optionally, rsync the
backup to either an external backup storage or tape backup. See the
<a href="https://doc.owncloud.org/server/latest/admin_manual/maintenance/index.html">Maintenance</a>
section of the Administration manual for tips on backups and restores.</p>
</div>
</div>
<div class="sect3">
<h4 id="authentication"><a class="anchor" href="#authentication"></a>Authentication</h4>
<div class="paragraph">
<p>User authentication via one or several LDAP or Active Directory (AD)
servers. See
<a href="https://doc.owncloud.org/server/latest/admin_manual/configuration/user/user_auth_ldap.html">User
Authentication with LDAP</a> for information on configuring ownCloud to use
LDAP and AD.</p>
</div>
</div>
<div class="sect3">
<h4 id="session-management"><a class="anchor" href="#session-management"></a>Session Management</h4>
<div class="paragraph">
<p>Local session management on the application server. PHP sessions are
stored in a temporary filesystem, mounted at the operating
system-specific session storage location. You can find out where that is
by running <code>grep -R 'session.save_path' /etc/php5</code> and then add it to
the <code>/etc/fstab</code> file, for example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sourceCode hljs" data-lang="sourceCode">echo "tmpfs /var/lib/php5/pool-www tmpfs defaults,noatime,mode=1777 0 0" &gt;&gt; /etc/fstab``.</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="memory-caching"><a class="anchor" href="#memory-caching"></a>Memory Caching</h4>
<div class="paragraph">
<p>A memory cache speeds up server performance, and ownCloud supports four
of them. Refer to
<a href="https://doc.owncloud.org/server/latest/admin_manual/configuration/server/caching_configuration.html">Configuring
Memory Caching</a> for information on selecting and configuring a memory
cache.</p>
</div>
</div>
<div class="sect3">
<h4 id="storage"><a class="anchor" href="#storage"></a>Storage</h4>
<div class="paragraph">
<p>Local storage.</p>
</div>
</div>
<div class="sect3">
<h4 id="owncloud-edition"><a class="anchor" href="#owncloud-edition"></a>ownCloud Edition</h4>
<div class="paragraph">
<p>Standard Edition. See
<a href="https://owncloud.com/owncloud-server-or-enterprise-edition/">ownCloud
Server or Enterprise Edition</a> for comparisons of the ownCloud editions.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="scenario-2-mid-sized-enterprises"><a class="anchor" href="#scenario-2-mid-sized-enterprises"></a>Scenario 2: Mid-Sized Enterprises</h2>
<div class="sectionbody">
<div class="paragraph">
<p>These recommendations apply if you meet the following criteria:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Option</th>
<th class="tableblock halign-left valign-top">Value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Number of users</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">150 to 1,000 users.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Storage size</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Up to 200TB.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">High availability level</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Every component is fully redundant and can
fail</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">without service interruption. Backups without</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">service interruption</p></td>
</tr>
</tbody>
</table>
<div class="sect2">
<h3 id="recommended-system-requirements-1"><a class="anchor" href="#recommended-system-requirements-1"></a>Recommended System Requirements</h3>
<div class="ulist">
<ul>
<li>
<p>2 to 4 application servers.</p>
</li>
<li>
<p>A cluster of two database servers.</p>
</li>
<li>
<p>Storage on an NFS server.</p>
</li>
<li>
<p>Authentication via an existing LDAP or Active Directory server.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><span class="image"><img src="/owncloud-docs/_images/deprecs-2.png" alt="image"></span></p>
</div>
<div class="sect3">
<h4 id="components-1"><a class="anchor" href="#components-1"></a>Components</h4>
<div class="ulist">
<ul>
<li>
<p>2 to 4 application servers with four sockets and 32GB RAM.</p>
</li>
<li>
<p>2 DB servers with four sockets and 64GB RAM.</p>
</li>
<li>
<p>1
<a href="https://www.digitalocean.com/community/tutorials/an-introduction-to-haproxy-and-load-balancing-concepts">HAproxy
load balancer</a> with two sockets and 16GB RAM.</p>
</li>
<li>
<p>NFS storage server as needed.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="operating-system-1"><a class="anchor" href="#operating-system-1"></a>Operating System</h4>
<div class="paragraph">
<p>Enterprise grade Linux distribution with full support from an operating
system vendor. We recommend both RedHat Enterprise Linux and SUSE Linux
Enterprise Server 12.</p>
</div>
</div>
<div class="sect3">
<h4 id="ssl-configuration-1"><a class="anchor" href="#ssl-configuration-1"></a>SSL Configuration</h4>
<div class="paragraph">
<p>The SSL termination is done in the
<a href="https://www.digitalocean.com/community/tutorials/an-introduction-to-haproxy-and-load-balancing-concepts">HAProxy
load balancer</a>. A standard SSL certificate is needed, installed
according to the <a href="http://www.haproxy.org/#docs">HAProxy documentation</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="load-balancer-1"><a class="anchor" href="#load-balancer-1"></a>Load Balancer</h4>
<div class="paragraph">
<p>HAProxy running on a dedicated server in front of the application
servers. Sticky session needs to be used because of local session
management on the application servers.</p>
</div>
</div>
<div class="sect3">
<h4 id="database-1"><a class="anchor" href="#database-1"></a>Database</h4>
<div class="paragraph">
<p>MySQL/MariaDB Galera cluster with
<a href="https://mariadb.com/kb/en/mariadb/replication-cluster-multi-master/">master-master
replication</a>. InnoDB storage engine, MyISAM is not supported, see:
db-storage-engine-label.</p>
</div>
</div>
<div class="sect3">
<h4 id="backup-1"><a class="anchor" href="#backup-1"></a>Backup</h4>
<div class="paragraph">
<p>Minimum daily backup without downtime. All MySQL/MariaDB statements
should be replicated to a backup MySQL/MariaDB slave instance.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Create a snapshot on the NFS storage server.</p>
</li>
<li>
<p>At the same time stop the MySQL replication.</p>
</li>
<li>
<p>Create a MySQL dump of the backup slave.</p>
</li>
<li>
<p>Push the NFS snapshot to the backup.</p>
</li>
<li>
<p>Push the MySQL dump to the backup.</p>
</li>
<li>
<p>Delete the NFS snapshot.</p>
</li>
<li>
<p>Restart MySQL replication.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="authentication-1"><a class="anchor" href="#authentication-1"></a>Authentication</h4>
<div class="paragraph">
<p>User authentication via one or several LDAP or Active Directory servers.
See
<a href="https://doc.owncloud.org/server/latest/admin_manual/configuration/user/user_auth_ldap.html">User
Authentication with LDAP</a> for information on configuring ownCloud to use
LDAP and AD.</p>
</div>
</div>
<div class="sect3">
<h4 id="session-management-1"><a class="anchor" href="#session-management-1"></a>Session Management</h4>
<div class="paragraph">
<p>Session management on the application server. PHP sessions are stored in
a temporary filesystem, mounted at the operating system-specific session
storage location. You can find out where that is by running
<code>grep -R 'session.save_path' /etc/php5</code> and then add it to the
<code>/etc/fstab</code> file, for example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sourceCode hljs" data-lang="sourceCode">echo "tmpfs /var/lib/php5/pool-www tmpfs defaults,noatime,mode=1777 0 0" &gt;&gt; /etc/fstab</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="memory-caching-1"><a class="anchor" href="#memory-caching-1"></a>Memory Caching</h4>
<div class="paragraph">
<p>A memory cache speeds up server performance, and ownCloud supports four
memory cache types. Refer to
<a href="https://doc.owncloud.org/server/latest/admin_manual/configuration/server/caching_configuration.html">Configuring
Memory Caching</a> for information on selecting and configuring a memory
cache.</p>
</div>
</div>
<div class="sect3">
<h4 id="storage-1"><a class="anchor" href="#storage-1"></a>Storage</h4>
<div class="paragraph">
<p>Use an off-the-shelf NFS solution, such as
<a href="https://www.ibm.com/us-en/marketplace/ibm-elastic-storage-server">IBM
Elastic Storage</a> or
<a href="https://www.redhat.com/en/technologies/storage/ceph">RedHat Ceph</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="owncloud-edition-1"><a class="anchor" href="#owncloud-edition-1"></a>ownCloud Edition</h4>
<div class="paragraph">
<p>Enterprise Edition. See
<a href="https://owncloud.com/owncloud-server-or-enterprise-edition/">ownCloud
Server or Enterprise Edition</a> for comparisons of the ownCloud editions.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="scenario-3-large-enterprises-and-service-providers"><a class="anchor" href="#scenario-3-large-enterprises-and-service-providers"></a>Scenario 3: Large Enterprises and Service Providers</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Option</th>
<th class="tableblock halign-left valign-top">Value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Number of users</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5,000 to &gt;100,000 users.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Storage size</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Up to 1 petabyte.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">High availability level</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Every component is fully redundant and can
fail</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">without service interruption. Backups without</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">service interruption.</p></td>
</tr>
</tbody>
</table>
<div class="sect2">
<h3 id="recommended-system-requirements-2"><a class="anchor" href="#recommended-system-requirements-2"></a>Recommended System Requirements</h3>
<div class="ulist">
<ul>
<li>
<p>4 to 20 application/Web servers.</p>
</li>
<li>
<p>A cluster of two or more database servers.</p>
</li>
<li>
<p>Storage is an NFS server or an object store that is S3 compatible.</p>
</li>
<li>
<p>Cloud federation for a distributed setup over several data centers.</p>
</li>
<li>
<p>Authentication via an existing LDAP or Active Directory server, or
SAML.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><span class="image"><img src="/owncloud-docs/_images/deprecs-3.png" alt="image"></span></p>
</div>
<div class="sect3">
<h4 id="components-2"><a class="anchor" href="#components-2"></a>Components</h4>
<div class="ulist">
<ul>
<li>
<p>4 to 20 application servers with four sockets and 64GB RAM.</p>
</li>
<li>
<p>4 DB servers with four sockets and 128GB RAM.</p>
</li>
<li>
<p>2 Hardware load balancer, for example,
<a href="https://f5.com/products/big-ip">BIG IP from F5</a>.</p>
</li>
<li>
<p>NFS storage server as needed.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="operating-system-2"><a class="anchor" href="#operating-system-2"></a>Operating system</h4>
<div class="paragraph">
<p>RHEL 7 with latest service packs.</p>
</div>
</div>
<div class="sect3">
<h4 id="ssl-configuration-2"><a class="anchor" href="#ssl-configuration-2"></a>SSL Configuration</h4>
<div class="paragraph">
<p>The SSL termination is done in the load balancer. A standard SSL
certificate is needed, installed according to the load balancer
documentation.</p>
</div>
</div>
<div class="sect3">
<h4 id="load-balancer-2"><a class="anchor" href="#load-balancer-2"></a>Load Balancer</h4>
<div class="paragraph">
<p>A redundant hardware load-balancer with heartbeat, for example,
<a href="https://f5.com/products/big-ip/">F5 Big-IP</a>. This runs two load balancers
in front of the application servers.</p>
</div>
</div>
<div class="sect3">
<h4 id="database-2"><a class="anchor" href="#database-2"></a>Database</h4>
<div class="paragraph">
<p>MySQL/MariaDB Galera Cluster with 4x master-master replication. InnoDB
storage engine, MyISAM is not supported, see: db-storage-engine-label.</p>
</div>
</div>
<div class="sect3">
<h4 id="backup-2"><a class="anchor" href="#backup-2"></a>Backup</h4>
<div class="paragraph">
<p>Minimum daily backup without downtime. All MySQL/MariaDB statements
should be replicated to a backup MySQL/MariaDB slave instance. To do
this, follow these steps:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Create a snapshot on the NFS storage server.</p>
</li>
<li>
<p>At the same time stop the MySQL replication.</p>
</li>
<li>
<p>Create a MySQL dump of the backup slave.</p>
</li>
<li>
<p>Push the NFS snapshot to the backup.</p>
</li>
<li>
<p>Push the MySQL dump to the backup.</p>
</li>
<li>
<p>Delete the NFS snapshot.</p>
</li>
<li>
<p>Restart MySQL replication.</p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="authentication-2"><a class="anchor" href="#authentication-2"></a>Authentication</h4>
<div class="paragraph">
<p>User authentication via one or several LDAP or Active Directory servers,
or SAML/Shibboleth. See
<a href="https://doc.owncloud.org/server/latest/admin_manual/configuration/user/user_auth_ldap.html">User
Authentication with LDAP</a> and
<a href="https://doc.owncloud.org/server/latest/admin_manual/enterprise_user_management/user_auth_shibboleth.html">Shibboleth
Integration</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="ldap"><a class="anchor" href="#ldap"></a>LDAP</h4>
<div class="paragraph">
<p>Read-only slaves should be deployed on every application server for
optimal scalability.</p>
</div>
</div>
<div class="sect3">
<h4 id="session-management-2"><a class="anchor" href="#session-management-2"></a>Session Management</h4>
<div class="paragraph">
<p>Redis &lt;redis_configuration_label&gt; should be used for the session
management storage.</p>
</div>
</div>
<div class="sect3">
<h4 id="caching"><a class="anchor" href="#caching"></a>Caching</h4>
<div class="paragraph">
<p>Redis &lt;redis_configuration_label&gt; for distributed in-memory caching, see
<a href="https://doc.owncloud.org/server/latest/admin_manual/configuration/server/caching_configuration.html">Configuring
Memory Caching</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="storage-2"><a class="anchor" href="#storage-2"></a>Storage</h4>
<div class="paragraph">
<p>An off-the-shelf NFS solution should be used. Some examples are
<a href="https://www.ibm.com/us-en/marketplace/ibm-elastic-storage-server">IBM
Elastic Storage</a> or
<a href="https://www.redhat.com/en/technologies/storage/ceph">RedHat Ceph</a>.
Optionally, an S3 compatible object store can also be used.</p>
</div>
</div>
<div class="sect3">
<h4 id="owncloud-edition-2"><a class="anchor" href="#owncloud-edition-2"></a>ownCloud Edition</h4>
<div class="paragraph">
<p>Enterprise Edition. See
<a href="https://owncloud.com/owncloud-server-or-enterprise-edition/">ownCloud
Server or Enterprise Edition</a> for comparisons of the ownCloud editions.</p>
</div>
</div>
<div class="sect3">
<h4 id="redis-configuration"><a class="anchor" href="#redis-configuration"></a>Redis Configuration</h4>
<div class="paragraph">
<p>Redis in a master-slave configuration is
<a href="http://searchwindowsserver.techtarget.com/definition/cold-warm-hot-server">a
hot failover setup</a>, and is usually sufficient. A slave can be omitted
if high availability is provided via other means. And when it is, in the
event of a failure, restarting Redis typically occurs quickly enough.
Regarding Redis cluster, we don’t, usually, recommend it, as it requires
a greater level of both maintenance and management in the case of
failure. A single Redis server, however, just needs to be rebooted, in
the event of failure.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="known-issues"><a class="anchor" href="#known-issues"></a>Known Issues</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="deadlocks-when-using-mariadb-galera-cluster"><a class="anchor" href="#deadlocks-when-using-mariadb-galera-cluster"></a>Deadlocks When Using MariaDB Galera Cluster</h3>
<div class="paragraph">
<p>If you’re using <a href="http://galeracluster.com">MariaDB Galera Cluster</a> with
your ownCloud installation, you may encounter deadlocks when you attempt
to sync a large number of files. You may also encounter database errors,
such as this one:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sourceCode hljs" data-lang="sourceCode">SQLSTATE[40001]: Serialization failure: 1213 Deadlock found when trying to get lock; try restarting transaction</code></pre>
</div>
</div>
<div class="paragraph">
<p>The issue,
<a href="https://github.com/owncloud/core/issues/14757#issuecomment-223492913">identified
by Michael Roth</a>, is caused when MariaDB Galera cluster sends write
requests to all servers in the cluster;
<a href="http://severalnines.com/blog/avoiding-deadlocks-galera-set-haproxy-single-node-writes-and-multi-node-reads">here
is a detailed explanation</a>. The solution is to send all write requests
to a single server, instead of all of them.</p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="set-wsrep_sync_wait-to-1-on-all-galera-cluster-nodes"><a class="anchor" href="#set-wsrep_sync_wait-to-1-on-all-galera-cluster-nodes"></a>Set wsrep_sync_wait to 1 on all Galera Cluster nodes</h3>
<div class="sect3">
<h4 id="what-the-parameter-does"><a class="anchor" href="#what-the-parameter-does"></a>What the parameter does</h4>
<div class="paragraph">
<p>When enabled, the node triggers causality checks in response to certain
types of queries. During the check, the node blocks new queries while
the database server catches up with all updates made in the cluster to
the point where the check begun. Once it reaches this point, the node
executes the original query.</p>
</div>
</div>
<div class="sect3">
<h4 id="why-enable-it"><a class="anchor" href="#why-enable-it"></a>Why enable it</h4>
<div class="paragraph">
<p>A Galera Cluster write operation is sent to the master while reads are
retrieved from the slaves. Since Galera Cluster replication is, by
default, not strictly synchronous it could happen that items are
requested before the replication has actually taken place.</p>
</div>
<div class="paragraph">
<p>This setting is disabled by default.</p>
</div>
<div class="paragraph">
<p>See the Galera Cluster WSREP documentation for more details.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="references"><a class="anchor" href="#references"></a>References</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="http://www.severalnines.com/blog/become-mysql-dba-blog-series-database-high-availability">Database
High Availability</a></p>
</li>
<li>
<p><a href="http://blog.bitnami.com/2014/06/performance-enhacements-for-apache-and.html">Performance
enhancements for Apache and PHP</a></p>
</li>
<li>
<p><a href="https://www.digitalocean.com/community/tutorials/how-to-set-up-a-redis-server-as%20-a-session-handler-for-php-on-ubuntu-14-04">How
to Set Up a Redis Server as a Session Handler for PHP on Ubuntu 14.04</a></p>
</li>
</ul>
</div>
</div>
</div>
</article>
  </main>
</div>
<footer class="footer">
  <p>This page was built using the Antora default UI.</p>
  <p>The source code for this UI is licensed under the terms of the MPL-2.0 license.</p>
</footer>
<script src="../../owncloud-docs/js/site.js"></script>
<script src="../../owncloud-docs/js/vendor/highlight.js"></script>
<script>hljs.initHighlighting()</script>
  </body>
</html>
